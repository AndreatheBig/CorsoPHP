{\rtf1\ansi\deff0{\fonttbl{\f0 \fswiss Helvetica;}{\f1 Courier;}}
{\colortbl;\red255\green0\blue0;\red0\green0\blue255;}
\widowctrl\hyphauto

{\pard \ql \f0 \sa180 \li0 \fi0 \{141025 \{\} \{;000;00255;0255255;02550;2550255;25500;2552550;255255255;00128;0128128;01280;1280128;12800;1281280;128128128;192192192;\} \{ \}\{* \}\{\}\{*LibreOffice/5.1.4.2{\i L}{\i i}{\i n}{\i u}{\i x}{\sub {\i X}}86{\sub 64}{\i L}{\i i}{\i b}{\i r}{\i e}{\i O}{\i f}{\i f}{\i i}{\i c}{\i e}{\sub {\i p}}{\i r}{\i o}{\i j}{\i e}{\i c}{\i t}/10{\i m}0Build-2\}\{\}709 83 \{*\} 1584012240113411341134113411224015840113411341134113411220120\{\} 220120\{\} 220120\{\{\}\} 231401950220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120\{\} 220120 220120 220120 220120\{Il linguaggio PHP 32'e8 uno tra i pi49'f9 semplici attualmente in uso con \}\{\{\} intuitive e con una guida online molto esaustiva (disponibile al sito \}\{\{\}). Per costruire siti web dinamici, l'uso del linguaggio PHP insieme ad un \}\{\{\} (come ad esempio \}\{\{\}) e ad un \}\{\{\} (come ad esempio \}\{\{\}), offre innumerevoli funzioni cos36'ec che la gestione delle informazioni si 32'e8 molto semplificata.\} 220120\{\{\}\{\}\{\}\{\}\{\}\} 220120\{Alcune caratteristiche che saltano all'occhio sono:\} 220120\{777 226'95\}02 0000-28370770707070-28300\{La dinamicit24'e0\}\{: le pagine in HTML sono statiche e la possibilit24'e0 di renderle dinamiche si riduce alle operazioni eseguibili in \}\{\{\} e al \}\{\{\}. Con il PHP, il Javascript serve molto meno in quanto il codice viene eseguito dal browser al caricamento della pagina, eventuali script Javascript servirebbero solo per cambiamenti in \}\{real time\}\{ come le dissolvenze e le etichette. Per altre informazioni su questa innovazione vai alla sezione \}\{\{\} \} 220120\{777 226'95\}02 0000-28370770707070-28300\{La semplicit24'e0\}\{: il linguaggio PHP, a differenza dell'ASP, 32'e8 molto pi49'f9 semplice da sviluppare, gestire e in seguito modificare. Non occorre infatti essere laureati per poter scrivere del codice complesso grazie a funzioni molto semplici e intuitive. Ve ne sar24'e0 data una dimostrazione in seguito. \} 220120\{777 226'95\}02 0000-28370770707070-28300\{La grandissima variet24'e0 di funzioni\}\{: nel sito \}\{\{\} 32'e8 visualizzabile la documentazione completa del PHP con tutte le funzioni disponibili all'uso. Ce ne sono veramente tante, per appunto soddisfare ogni scopo si abbia in mente. \} 220120\{777 226'95\}02 0000-28370770707070-28300\{Il costo\}\{: dato da non sottovalutare 32'e8 il costo. Il php 32'e8 Open Source, non ha limitazioni di sorta e permette ai sysadmin di compilare solo le parti realmente utili. Ha costi di manutenzione molto bassi e, ovviamente, non ha costi di licenza al contrario dell'asp. \} 220120\{777 226'95\}02 0000-28370770707070-283\{La comunit24'e0\}\{: PEAR 32'e8 il pi49'f9 eclatante esempio di comunit24'e0 di sivluppatori. Chiunque pu42'f2 scrivere una funzione o una classe php specifica e renderla disponibile a tutta la comunit24'e0 grazie a PEAR che permette allo sviluppatore di ridurre il tempo utilizzando classi e/o funzioni gi24'e0 scritte. \} 220120\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120\{02828 STORIA\} 220120\{L'\}\{\{\} il danese \}\{\{\} \}\{\{\} invia un messaggio in un \}\{\{\} (\}\{\{\}) annunciando il rilascio di "un set di piccoli binari scritti in \}\{\{\}", PHP 1.0 (che, all'inizio, significava "Personal Home Page", "Pagina Principale Personale"). Le funzioni di PHP 1.0 sono limitate: registra gli accessi ad un sito tracciando anche i \}\{\{\}, pu42'f2 fare inclusioni \}\{\{\}, mostra gli utenti connessi, protegge con password una pagina...\} 220120\{Nelle successive versioni vengono aggiunti il supporto per le \}\{\{\} \}\{\{\} in \}\{\{\} (predecessore di \}\{\{\}) e la disponibilit24'e0 di un \}\{\{\} \}\{\{\} (FI, "Form Interpreter", "Interprete di Form"). Intanto, verso la fine del \}\{\{\}, PHP comincia a diventare famoso e viene rinominato in PHP/FI, anche grazie alla possibilit24'e0 di integrare PHP nelle pagine \}\{\{\}\} 220120\{Il \}\{\{\} \}\{\{\} arriva PHP/FI 2.0 che, secondo il sito \}\{\{\}, 32'e8 usato da circa 50 000 domini.\} 220120\{PHP 3.0, rilasciato il \}\{\{\} \}\{\{\}, segna un punto di svolta, in quanto appare lo "\}\{\{\}", creato dagli israeliani \}\{\{\} and \}\{\{\}. Oltre a questo vengono aggiunti il supporto per altri database e la compatibilit24'e0 con Windows ed altri sistemi operativi. Cambia anche il nome che da "Personal Home Page" diventa l'attuale "PHP: Hypertext Preprocessor".\} 220120\{PHP 4.0 porta, il \}\{\{\} \}\{\{\}, molte ottimizzazioni. Viene cambiata anche la licenza, che dalla \}\{\{\} (addottata fin da PHP 1.0) pass42'f2 alla \}\{\{\}, pi49'f9 restrittiva ma sempre \}\{\{\}.\} 220120\{Circa quattro anni dopo, il \}\{\{\} \}\{\{\}, viene rilasciato PHP 5.0. Molti sono i miglioramenti proposti da questa versione; il principale 32'e8 l'introduzione dello Zend Engine 2 e il supporto nativo alla \}\{\{\}.\} 220120\{Nel \}\{\{\} la configurazione \}\{\{\} (\}\{\{\}, \}\{\{\}, \}\{\{\}, PHP) supera il 50% del totale dei server sulla rete mondiale. \} 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\{02828 COME FUNZIONA\} 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120\{Fin dalla sua prima uscita, PHP 32'e8 stato un linguaggio fortemente orientato al web. Tuttavia, i nuovi e pi49'f9 recenti miglioramenti lo rendono adatto ai pi49'f9 svariati scopi. Le tre principali aree di utilizzo di PHP sono:\} 220120\{777 226'95\}03 0000-28370770707070-28300\{Server side scripting\}\{ - \}\{scripting\}\{ \}\{\{\} per il \}\{\{\} \} 220120\{777 226'95\}03 0000-28370770707070-28300\{Shell scripting\}\{ - \}\{scripting\}\{ a \}\{\{\} \} 220120\{777 226'95\}03 0000-28370770707070-283\{Applicazioni desktop\}\{ \} 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\{SERVER-SIDE-SCRIPTING\} 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120\{Questo ambito di utilizzo 32'e8 il pi49'f9 tradizionale ed il pi49'f9 diffuso. PHP consente di generare in maniera dinamica le pagine web. Per utilizzare PHP in questo ambito occorrono:\} 220120\{777 226'95\}04 0000-28370770707070-28300\{un server web \} 220120\{777 226'95\}04 0000-28370770707070-28300\{l'interprete PHP \} 220120\{777 226'95\}04 0000-28370770707070-283\{un \}\{\{\} web \} 220120\{Durante il caricamento di una \}\{\{\}, il \}\{\{\} del client (cio32'e8 dell'utente) invia una richiesta HTTP al \}\{\{\}, il quale si incarica di restituirgli una file, normalmente "pagina" contenente codice \}\{\{\}, oppure anche ad esempio un'immagine.Nel caso sia una pagina scritta in HTML (solitamente indicata dall'estensione .htm o .html"), una volta ricevuta il browser 32'e8 in grado di disegnarne il contenuto sullo schermo interpretando il linguaggio di markup.\} 220120\{Le pagine nelle quali 32'e8 presente codice PHP, che sono memorizzate sul \}\{\{\}, non sono direttamente lette ed interpretate dal browser ma vengono interpretate da un modulo aggiuntivo del web server che 32'e8 appunto il modulo PHP.\} 220120\{Normalmente le pagine contenente codice PHP devono avere una estensione di tipo ".php" ma, configurando opportunamente il \}\{\{\}, 32'e8 possibile utilizzare anche estensione ".html" o altro.\} 220120\{Tutte le volte che al web server viene fatta la richiesta di una pagina, questa viene analizzata da esso. Se all'interno della pagina viene riconosciuta la presenza di codice PHP (delimitato da \}\{\{\} 212'97 marcatori 212'97 appositi) questa viene passata al modulo PHP che si preoccuper24'e0 di restituirla (in un certo senso di riscriverla) nel formato HTML, direttamente interpretabile dal browser richiedente.\} 220120\{Il susseguirsi logico delle varie fasi 32'e8 il seguente:\} 220120\{1.\}05 0000-28370770707070-28300\{l'utente richiama la pagina (inserendo l'\}\{\{\} o cliccando un \}\{\{\}) \} 220120\{2.\}05 0000-28370770707070-28300\{il browser inoltra la richiesta al web server \} 220120\{3.\}05 0000-28370770707070-28300\{il web server cerca la pagina (il file) richiesto \} 220120\{4.\}05 0000-28370770707070-28300\{se la pagina contiene codice PHP viene passata al modulo PHP, altrimenti si va al punto 6 \} 220120\{5.\}05 0000-28370770707070-28300\{il modulo PHP interpreta la pagina PHP e restituisce la corrispondente pagina HTML \} 220120\{6.\}05 0000-28370770707070-28300\{la pagina "HTML" viene spedita al browser richiedente \} 220120\{7.\}05 0000-28370770707070-283\{il browser, una volta ricevuta la pagina, la legge e la disegna a monitor \} 220120\{Una pagina web 32'e8 da considerare composta da due componenti fondamentali: la struttura o \}\{\{\} e il contenuto. Per layout intendiamo tutto ci42'f2 che descrive come la pagina deve essere disegnata, tabelle, colori, \}\{\{\}, frames... in generale tutto ci42'f2 che pu42'f2 essere definito mediante il linguaggio HTML. Per contenuto consideriamo, per semplicit24'e0, tutto ci42'f2 che non 32'e8 struttura ma informazione che la pagina ci offre. In un sito web di solito la struttura resta all'incirca la stessa per tutte le pagine. Quel che cambia 32'e8 il contenuto.\} 220120\{Per facilitare il lavoro ai \}\{\{\} la soluzione sarebbe quella di poter separare "fisicamente" il contenuto delle pagine dalla loro struttura. Il PHP viene in aiuto soprattutto in tali situazioni: generalmente un pagina viene costruita memorizzando in un file la struttura (della generica pagina) e in un \}\{\{\} il contenuto. In questo modo quello che 32'e8 il compito dell'\}\{\{\} PHP 32'e8 quello di assemblare la pagina inserendo il contenuto caricato dal database nella struttura.\} 220120\{Il funzionamento a questo punto differisce leggermente da quello sopra riportato in quanto il punto 5 si modifica in questo modo:\} 220120\{5.\}050 0000-28370770707070-283\{il modulo PHP interpreta la pagina PHP, richiede al database il contenuto da inserire, genera e restituisce la corrispondente pagina HTML. \} 220120\{In realt24'e0, esistono anche altre possibilit24'e0: si pu42'f2 modificare il \}\{\{\} con l'istruzione\} 260066206200283 220120\{oppure tramite particolari estensioni di PHP come le librerie GD 32'e8 possibile creare delle immagini e restituire quindi non una pagina HTML bens36'ec un'immagine vera e propria.\} 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 000192551024255424103303232\par}
{\pard \ql \f0 \sa0 \li0 \fi0 220120 220120\{Il codice PHP 32'e8 definito come linguaggio di scripting "inline", perch33'e9 viene inserito direttamente all'interno delle pagine HTML. Per fare ci42'f2 il codice PHP deve essere racchiuso tra due speciali tag, il tag \}\{18666\}\{ (tag di chiusura). Del tag di apertura esistono anche versioni "brevi", per abilitare le quali bisogna agire sul file di configurazione \}\{php.ini\}\{ alle voci \}\{short_open_tag\}\{ e \}\{asp_tags\}\{; il loro uso 32'e8 tuttavia sconsigliato dagli stessi sviluppatori di PHP in quanto non essendo attivi di default riducono la portabilit24'e0 del codice.\} 220120\{Es.:\} 26006620620\{ \}\{<?php\} 26006620620\{ \}\{echo "pippo";\} 260066206200283\{ \}\{?>\} 220120\{short_open_tag\} 26006620620\{ \}\{<?\} 26006620620\{ \}\{echo "pippo";\} 260066206200283\{ \}\{?>\} 220120\{asp_tags\} 26006620620\{ \}\{<%\} 26006620620\{ \}\{echo "pippo";\} 260066206200283\{ \}\{%>\} 220120\{Tutto ci42'f2 che 32'e8 inserito tra questi due elementi viene interpretato dal sistema come sintassi PHP e viene quindi interpretato dal motore PHP prima di essere inviato al client.\} 220120\{Il codice php pu42'f2 anche essere incluso in tag \}\{18666\par}
{\pard \ql \f0 \sa0 \li0 \fi0 \} 220120\{Ecco un esempio pratico per inviare un output di testo:\} 260066206200283 220120\{Oltre al comando \}\{18666echo\}\{ esiste anche per42'f2 il comando \}\{18666print\}\{:\} 260066206200283 220120\{Questi due comandi hanno la stessa funzione, ma sono per42'f2 differenti per un particolare, spesso trascurabile: a differenza di \}\{18666echo\}\{, \}\{18666print\}\{ non pu42'f2 accettare pi49'f9 di un argomento.Non si tratta, tuttavia, di funzioni, ma di strutture basilari del linguaggio. Possono, dunque, essere scritte con o senza parentesi:\} 260066206200283\{ \}\{echo("Hello World");\} 220120\{produce lo stesso risultato di\} 260066206200283\{echo "Hello World";\} 220120\{Si noti che alla fine dell'istruzione, questa viene dichiarata conclusa attraverso un \}\{punto e virgola\}\{. In mancanza di questo, il parser PHP restituir24'e0 un errore alla riga successiva.\} 220120\{\}\{18666echo\}\{ presenta inoltre una sintassi abbreviata che deve seguire immediatamente un tag di apertura PHP e funziona solo se la direttiva \}\{short_open_tag\}\{ del \}\{php.ini\}\{ 32'e8 impostata su \}\{On\}\{. Ad esempio:\} 260066206200283 220120\{Ecco un semplice applicativo PHP che stamper24'e0 sullo schermo la frase: \}\{Hello world\}\{:\} 26006620620\{<?php\} 26006620620\{ \}\{echo "\par}
{\pard \ql \f0 \sa0 \li0 \fi0 Hello world\par}
{\pard \ql \f0 \sa0 \li0 \fi0 ";\} 260066206200283\{?>\} 220120\{In questo esempio l'istruzione \}\{echo\}\{ produrr24'e0 come output la stringa in linguaggio \}\{HTML\} 260066206200283\{ \}\{\par}
{\pard \ql \f0 \sa0 \li0 \fi0 Hello world\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \} 220120\{che verr24'e0 inviata al browser e quindi interpretata visivamente come un paragrafo contenente le parole \}\{Hello world\} 220120\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120\{ll'interno dei tag \}\{18666\}\{ 32'e8 possibile inserire dei \}\{\{\}, ovvero porzioni di testo opportunamente marcate che verranno ignorate dal motore PHP durante il \}\{parsing\}\{ degli script.\} 220120\{Un commento ha una doppia valenza:\} 220120\{1.\}07 0000-28370770707070-28300\{pu42'f2 servire per non eseguire una parte di codice che per42'f2 potrebbe essere necessario riprendere successivamente (ad esempio per dei \}\{test\}\{); \} 220120\{2.\}07 0000-28370770707070-283\{rende pi49'f9 leggibile il sorgente da parte di altri utenti che eventualmente debbano variare lo script PHP (utile soprattutto nei casi di \}\{collaborazione\}\{). \} 220120\{PHP supporta i commenti sia stile \}\{\{\} che stile shell (\}\{\{\}).Il commento a linea singola quindi viene pertanto interpretato sia con \}\{18666//\}\{ che con \}\{18666#\}\{ anteposti alla parte di scripting da commentare.\} 26006620620 26006620620 26006620620 260066206200283 220120\{In questo caso non verranno eseguite la seconda e la terza riga e la seconda parte della quarta (dal commento in poi).\} 220120\{00'c8 importante sottolineare che se i caratteri di commento non sono posti a inizio riga commentano solo tutto quello che si trova sulla stessa riga a destra del commento; pertanto occorre stare attenti alla sintassi per non incappare in errori. Ad esempio 32'e8 corretto:\} 26006620620 26006620620 260066206200283 220120\{Ma attenti a scrivere:\} 260066206200283 220120\{In apparenza questi due esempi potrebbero sembrare uguali ma nel secondo caso la chiusura del tag PHP 32'e8 posta sulla stessa riga a destra del commento, pertanto il linguaggio non interpreter24'e0 la chiusura del tag \}\{18666<?php\}\{ e segnaler24'e0 un errore di sintassi.\} 220120\{00'c8 possibile commentare anche pi49'f9 di una riga di codice per volta utilizzando \}\{18666/* testo {\i /\}\{. Tutto quello che si trova tra \}\{18666/}\}\{ e \}\{18666/\}\{ risulta essere un commento.\} 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Occorre fare attenzione nel non annidare i commenti di stile C, situazione che si presenta quando si commentano larghi blocchi di codice.\} 26006620620 26006620620 260066206200283 220120\{Tutta la parte in grassetto rappresenta un unico commento per cui \}\{18666/\}\{ nella riga successiva generer24'e0 un errore \} 220120\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120\{Possiamo pensare ad una variabile come una scatola nella quale immagazzinare le informazioni e da cui possiamo ottenerle quando 32'e8 necessario.\} 000192551024255424103300\{*toc\}\{*toc\}\{*toc\}\{*toc\}44\par}
{\pard \ql \f0 \sa180 \li0 \fi0 303030303283283283289972224012091036436240120\{Indice\} 2708 0000-28370770707070-283\{\{\} \} 2718 0000-28314141414014140-283\{\{\} \} 2718 0000-28314141414014140-283\{\{\} \} 2708 0000-28370770707070-283\{\{\} \} 2718 0000-28314141414014140-283\{\{\} \} 2718 0000-28314141414014140-2830283\{\{\} \}224012091036436\{\{*Lavorare_con_le_variabili\}\{*Lavorare_con_le_variabili\}Lavorare con le variabili\} 220120\{In PHP le variabili sono identificate dal simbolo $ che precede il nome della variabile stessa. 00'c8 necessario tuttavia che il primo carattere dopo il $ non sia un numero o un carattere speciale, ma sia una lettera o un carattere underscore (_).\} 220120\{Molti linguaggi di programmazione richiedono che le variabili usate nel corso del programma siano dichiarate. Il linguaggio PHP 32'e8 un linguaggio chiamato a \}\{tipizzazione debole\}\{ , che significa invece che non richiede alcuna dichiarazione di variabile: per il motore PHP, infatti, una variabile 32'e8 tale dalla prima riga nella quale se ne fa uso.\} 220120\{L'istruzione fondamentale che 32'e8 possibile eseguire con una variabile 32'e8 l'\}\{assegnazione\}\{, che imposta (assegna) il valore contenuto dalla variabile. La sintassi 32'e8\} 260066206200283 220120\{dove \}\{valore\}\{ 32'e8 un'espressione valida per PHP (per espressione si intende una sequenza di dati, \}\{\{\} e/o variabili che restituisca un valore). Sono ad esempio espressioni\} 26006620620 260066206200283 220120\{Per fare riferimento ad una variabile e al suo valore sar24'e0 necessario semplicemente riferirsi al nome; si noti che PHP 32'e8 case-sensitive, quindi \}\{18666$var\}\{ e \}\{18666$Var\}\{ sono due variabili differenti. Questo script, ad esempio, stampa il valore di una variabile:\} 26006620620 26006620620 26006620620 260066206200283 220120\{Da notare che l'istruzione echo non stampa \}\{$variabile\}\{ ma il valore della variabile \}\{18666$variabile\}\{; sarebbe equivalente scrivere\} 260066206200283 220120\{Un'istruzione, invece, come\} 260066206200283 220120\{stamperebbe \}\{$variabile\}\{ (si notino gli apici e non le virgolette doppie).\} 324012091028428\{- \}\{\{*Variabili_per_valore_e_per_riferimento\}\{*Variabili_per_valore_e_per_riferimento\}Variabili per valore e per riferimento\} 220120\{Le variabili PHP sono solitamente passate per \}\{valore\}\{: quando una variabile viene assegnata ad un'altra in realt24'e0 viene assegnato ad una variabile una copia del valore dell'altra, ma le due variabili identificano comunque due celle di memoria differenti. Ad esempio:\} 26006620620 26006620620 260066206200283 220120\{Talvolta, soprattutto per quanto riguarda l'uso di funzioni, 32'e8 comodo aver due variabili che puntino alla stessa cella di memoria. Per fare ci42'f2 si assegnano le \}\{variabili per riferimento\}\{ usando la sintassi:\} 260066206200283 220120\{Ad esempio\} 26006620620 26006620620 260066206200283 324012091028428\{- \}\{\{*Costanti\}\{*Costanti\}Costanti\} 220120\{Pu42'f2 essere comodo durante la programmazione definire valori \}\{costanti\}\{ riutilizzabili nel codice. La differenza sostanziale tra costanti e varibili sta nel fatto che le prime, a differenza delle seconde, non possono essere modificate. Per definire una costante si usa la sintassi:\} 260066206200283 220120\{e per richiamarle si usa semplicemente il loro nome:\} 260066206200283 220120\{Esistono alcune costanti predefinite, che sono valide cio32'e8 in tutti gli script:\} 220120\{777 226'95\}09 0000-28370770707070-28300\{18666{\b FILE}\}\{: restituisce il percorso completo e il nome del file (ad esempio \}\{/var/www/html/index.php\}\{ su sistemi Linux) \} 220120\{777 226'95\}09 0000-28370770707070-28300\{18666{\b LINE}\}\{: restituisce il numero di riga in cui si trova la costante \} 220120\{777 226'95\}09 0000-28370770707070-283\{18666{\b FUNCTION}\}\{ e \}\{18666{\b CLASS}\}\{: restituiscono rispettivamente il nome della funzione e della classe in cui la costante 32'e8 richiamata. \} 224012091036436\{- \}\{\{*Tipi_di_dati\}\{*Tipi_di_dati\}Tipi di dati\} 220120\{PHP 32'e8 a tipizzazione debole anche perch33'e9 converte automaticamente il tipo di dati contenuto nella variabile a seconda del contesto (questo 32'e8 importante quando si usano gli operatori).Nonostante ci42'f2, il concetto di \}\{\{\} esiste in PHP: ogni variabile 32'e8 di un determinato tipo a seconda del valore che contiene in quel momento. Principalmente i tipi di dato sono:\} 3030303020153452015345201534534520182015345201534520153453456077201534520153452015345201534599722828283030303034520153452015345345201834520153452015345345607734520153452015345201534599722727273030303034520153452015345345201834520153452015345345607734520153452015345201534599722727273030303034520153452015345345201834520153452015345345607734520153452015345201534599722727273030303034520153452015345345201834520153452015345201534599722727303030303452015345201534534520183452015345201534534560773452015345201534520153459972272727220120\{Di fronte a diversi tipi di dato, il motore PHP pu42'f2 trovarsi in diverse situazioni e si comporta in maniere differenti:\} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un valore \}\{numerico intero\}\{ e viene fornito un \}\{numero a virgola mobile\}\{ PHP tronca la parte decimale, restituendo solo la parte intera \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un valore \}\{numerico\}\{ e viene fornita una \}\{stringa\}\{, PHP elimina spazi e lettere di troppo utilizzando soltanto i numeri contenuti in tale stringa \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un valore \}\{numerico\}\{ e viene fornito un valore \}\{booleano\}\{ viene restituito 1 se il valore 32'e8 TRUE, 0 se il valore 32'e8 FALSE \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un \}\{numero\}\{ e viene fornito un \}\{array\}\{ restituisce un numero pari al numero di elementi contenuti dall'array \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta una \}\{stringa\}\{ e viene fornito un \}\{numero\}\{ questo viene convertito in una stringa contentente esattamente il numero stesso \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un valore \}\{stringa\}\{ e viene fornito un valore \}\{booleano\}\{ viene restituito \}\{1\}\{ se il valore 32'e8 TRUE, una stringa vuota se 32'e8 FALSE \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta una \}\{stringa\}\{ e viene fornito un \}\{array\}\{ restituisce una stringa contenente il valore \}\{array\}\{ \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un valore \}\{booleano\}\{ e viene fornito un \}\{numero\}\{ PHP restituisce FALSE se il numero 32'e8 uguale a 0, TRUE se 32'e8 il numero 32'e8 diverso da 0 (di solito 1) \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un valore \}\{booleano\}\{ e viene fornita una \}\{stringa\}\{ PHP restituisce FALSE se la stringa 32'e8 vuota o contiene il valore \}\{0\}\{; restituisce TRUE negli altri casi \} 220120\{777 226'95\}010 0000-28370770707070-28300\{se si aspetta un valore \}\{booleano\}\{ e viene fornita un \}\{array\}\{ PHP restituisce FALSE se l'array 32'e8 vuoto , TRUE negli altri casi \} 220120\{777 226'95\}010 0000-28370770707070-283\{il valore \}\{null\}\{ viene trattato come un valore booleano FALSE \} 220120\{Esistono tuttavia numerose funzioni di conversione per trasformare un tipo di dato in un altro, che consistono nell'anteporre all'espressione in questione il nome del tipo di dato che si vuole ottenere tra parentesi. Ad esempio:\} 260066206200283 220120\{restituisce \}\{10\}\{, in quanto viene convertito un numero \}\{float\}\{ in un intero secondo le regole di conversione. Allo stesso modo\} 260066206200283 220120\{restituisce TRUE\} 324012091028428\{- \}\{\{*Calcolo_multibase\}\{*Calcolo_multibase\}Calcolo multibase\} 220120\{Oltre al sistema decimale, PHP pu42'f2 lavorare con i sistemi di numerazione in base \}\{\{\} e \}\{\{\}. Per inizializzare una variabile in base otto, il numero deve iniziare con uno \}\{186660\}\{ (es \}\{1866601247\}\{); i numeri in base sedici devono invece iniziare con \}\{186660x\}\{ (es \}\{186660xf56b\}\{).\} 324012091028428\{- \}\{\{*Stringhe\}\{*Stringhe\}Stringhe\} 220120\{Meritano particolare attenzione le stringhe, soprattutto nell'analisi dei caratteri di commutazioni.Una stringa in PHP deve essere delimitata da apici o da apici doppi; bisogna tuttavia chiudere una stringa con la stessa modalit24'e0 con cui si 32'e8 aperta:\} 26006620620\{"Questa non 32'e8 una stringa valida'\} 260066206200283\{'Questa lo 32'e8'\} 220120\{Pu42'f2 essere necessario in alcuni casi usare carattere particolari; ad esempio pu42'f2 essere necessario inserire un apice in una stringa delimitata da apici singoli. In questo caso si usano i \}\{caratteri di commutazione\}\{ (o \}\{sequenze di escape\}\{). I principali sono:\} 303030302015345201534520153453451397201534520153452015345201534599722727303030303452015345201534534513973452015345201534520153459972272730303030345201534520153453451397345201534520153452015345997227273030303034520153452015345345139734520153452015345201534599722727303030303452015345201534534513973452015345201534520153459972272730303030345201534520153453451397345201534520153452015345997227273030303034520153452015345345139734520153452015345201534599722727303030303452015345201534534513973452015345201534520153459972272730303030345201534520153453451397345201534520153452015345997227273030303034520153452015345345139734520153452015345201534599722727220120\{Nota\}\{: nel caso di stringhe racchiuse da apici singoli l'unica sequenza di escape ammessa 32'e8 la prima (\\') \} 220120\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 220120\{777 226'95\}011 0000-28370770707070-28300\{matematici\}\{ (restituiscono e richiedono valori numerici) \} 220120\{777 226'95\}111 0000-28314141414014140-28300\{+ somma algebrica \} 220120\{777 226'95\}111 0000-28314141414014140-28300\{- sottrazione o negazione del numero \} 220120\{777 226'95\}111 0000-28314141414014140-28300\{ Moltiplicazione \} 220120\{777 226'95\}111 0000-28314141414014140-28300\{/ divisione \} 220120\{777 226'95\}111 0000-28314141414014140-283\{% modulo (resto della divisione intera) \} 220120\{777 226'95\}012 0000-28370770707070-28300\{stringa\}\{ (restituiscono una stringa) \} 220120\{777 226'95\}112 0000-28314141414014140-283\{. (punto) concatena due stringhe \} 220120\{Gli operatori visti finora hanno inoltre una sintassi particolare nel caso di espressioni come ad esempio\} 26006620620\{$a = $a + 3;\} 260066206200283\{$b = $b.' stringa';\} 220120\{Queste espressioni, infatti, nelle quali compare la stessa variabile ambo sia a destra che a sinistra dell'uguale, possono essere riassunte in\} 26006620620\{$a += 3;\} 260066206200283\{$b .= ' stringa';\} 220120\{777 226'95\}013 0000-28370770707070-28300\{booleani o di \}\{confronto\}\{ (restituiscono un valore boolean) \} 220120\{777 226'95\}113 0000-28314141414014140-28300\{=== identicamente uguale (anche del medesimo tipo) \} 220120\{777 226'95\}113 0000-28314141414014140-28300\{== uguale a \} 220120\{777 226'95\}113 0000-28314141414014140-28300\{!= diverso da \} 220120\{777 226'95\}113 0000-28314141414014140-28300\{> maggiore di \} 220120\{777 226'95\}113 0000-28314141414014140-28300\{< minore di \} 220120\{777 226'95\}113 0000-28314141414014140-28300\{=> maggiore o uguale a \} 220120\{777 226'95\}113 0000-28314141414014140-283\{<= minore o uguale a \} 220120\{777 226'95\}014 0000-28370770707070-28300\{logici\}\{ (restituiscono e operano su boolean) \} 220120\{777 226'95\}114 0000-28314141414014140-28300\{! corrisponde alla negazione logica ed 32'e8 un operatore unario (necessita di un solo operando). Restituisce false se l'operando 32'e8 true, true se viceversa. \} 220120\{777 226'95\}114 0000-28314141414014140-28300\{and o && corrisponde alla congiunzione logica (et). Restituisce true solo se entrambi gli operandi sono veri. \} 220120\{777 226'95\}114 0000-28314141414014140-28300\{or o || corrisponde disgiunzione inclusiva logica (vel). Restituisce true anche se uno sole degli operandi 32'e8 vero. \} 220120\{777 226'95\}114 0000-28314141414014140-283\{xor corrisponde alla disgiunzione esclusiva logica (out). Restituisce true solo se uno dei due valori 32'e8 true e l'altro 32'e8 false; \} 220120\{777 226'95\}015 0000-28370770707070-283\{due operatori molto importanti e comodi in PHP sono gli operatori chiamati di \}\{incremento\}\{ e di \}\{decremento\}\{ ++ e --, che restituiscono un valore numerico e aumentano o diminuiscono il valore della variabile di una unit24'e0. 00'c8 pi49'f9 facile capire il loro funzionamento con un esempio: \} 26006620620\{$v1 = $v2++; //assegna a $v1 il valore di $v2 e \}\{poi\}\{ incrementa $v2 di 1\} 26006620620\{$v1 = $v2-- //assegna a $v1 il valore di $v2 e \}\{poi\}\{ decrementa $v2 di 1\} 26006620620\{{\i v}1\u8196?=\u8196?++v2; //incrementa $v2 di 1 e \}\{poi\}\{ assegna a $v1 il valore di $v2 \} 260066206200283\{{\i v}1\u8196?=\u8196?\u8722?\u8722?v2 //decrementa $v2 di 1 e \}\{poi\}\{ assegna a $v1 il valore di $v2 \} 220120\{777 226'95\}016 0000-28370770707070-283\{un altro operatore molto comodo in PHP 32'e8 l'\}\{operatore ternario\}\{~?~: la cui sintassi 32'e8 \} 260066206200283\{condizione ? espr1 : espr2\} 220120\{Quando il motore PHP legge questo operatore valuta il valore di \}\{condizione\}\{: se 32'e8 vera, restituisce il valore \}\{espr1\}\{, altrimenti il valore \}\{espr2\}\{. Un esempio potrebbe rendere pi49'f9 chiaro il tutto:\} 260066206200283\{{\i v}{\i a}{\i r}\u8196?=\u8196?(a > $b ? 'a maggiore di b' : 'a minore di b');\} 220120\{Il valore di $var sar24'e0 quindi dipendente dal valore booleano dell'espressione \}\{18666a > $b\} 220120\{L'operatore ternario pu42'f2 essere usato anche per determinare il valore di un parametro da passare ad una funzione.\} 220120\{Ad esempio:\} 26006620620\{function prova( $valore ) \{\} 26006620620\{ \}\{echo $valore;\} 26006620620\{\} \} 26006620620\par}
{\pard \ql \f0 \sa180 \li0 \fi0 26006620620\{prova( true ? "prova 1 " : "prova 2" );\} 260066206200283\{prova( false ? "prova 1 " : "prova 2" );\} 220120\{Il codice sopra riportato dar24'e0 come output:\} 260066206200283\{prova 1 prova 2\} 220120 220120\{Possiamo pensare agli array come a delle liste di elementi nelle quali ciascun elemento ha un valore e un indice (o chiave) numerico o alfanumerico che lo identifica nella lista.\} 220120\{Gli array possono essere \}\{semplici\}\{ o \}\{associativi\}\{: nel primo caso ciascun elemento della lista 32'e8 identificato unicamente da un indice numerico; nel secondo caso ogni valore ha un indice numerico e uno alfanumerico, che pu42'f2 quindi memorizzare altri dati particolari.In PHP non esistono matrici multidimensionali ma queste possono essere emulate creando strutture (anche molto complesse) con array di array, dal momento che ciascun elemento di un array pu42'f2 a sua volta essere un array:\} 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Per inizializzare una variabile come array occorre dichiarare la variabile come tale e si utilizza la seguente notazione:\} 260066206200283 220120\{Per fare riferimento ad un elemento dell'array si usa la sintassi\} 260066206200283 220120\{dove indice 32'e8 un numero oppure, come spiegato sopra, una chiave alfanumerica.Per aggiungere all'array un elemento con un indice \}\{n\}\{ 32'e8 sufficiente fare riferimento all'elemento stesso, come nell'esempio seguente:\} 26006620620 260066206200283 220120\{Per inserire automaticamente un elemento alla fine della lista si usa invece la sintassi\} 260066206200283 220120\{L'indice assegnato cos36'ec all'elemento appena inserito 32'e8 pari all'elemento maggiore incrementato di uno. Se l'array 32'e8 vuoto, viene assegnato indice 0.\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Questo semplice spezzone di codice restituir24'e0\} 260066206200283\{prova1prova2prova3\} 220120\{Se vogliamo indicare la posizione in cui inserirlo, oppure la chiave a cui dovr24'e0 essere associato, dovremo inserire il valore usando la sintassi seguente:\} 26006620620 26006620620 260066206200283 220120\{Ovviamente se un elemento 32'e8 gi24'e0 presente a tale indice o chiave questo verr24'e0 sovrascritto.\} 220120\{00'c8 possibile assegnare dei valori all'array gi24'e0 in fase di dichiarazione, passandoli come parametri alla funzione array() che si occupa appunto di creare un nuovo array.\} 26006620620 26006620620 26006620620 260066206200283 220120\{Questo spezzone di codice restituir24'e0\} 260066206200283\{prova1prova2prova3\} 220120\{proprio come nell'esempio fatto sopra.\} 000192551024255424103300\{*toc1\}\{*toc1\}\{*toc1\}\{*toc1\}44\par}
{\pard \ql \f0 \sa180 \li0 \fi0 303030303283283283289972224012091036436240120\{\{*toctitle\}\{*toctitle\}Indice\} 27 27017 0000-28370770707070-283\{\{\} \} 27117 0000-28314141414014140-283\{\{\} \} 27117 0000-28314141414014140-283\{\{\} \} 27117 0000-28314141414014140-283\{\{\} \} 27117 0000-28314141414014140-283\{\{\} \} 27117 0000-28314141414014140-2830283\{\{\} \}224012091036436\{//<[CDATA[if (window.showTocToggle) \{ var tocShowText = "mostra"; var tocHideText = "nascondi"; showTocToggle(); \} //]]>- \}\{\{*Funzioni_utili\}\{*Funzioni_utili\}Funzioni utili\} 324012091028428\{- \}\{\{*print_r\}\{*print_r\}print_r\} 220120\{print_r 32'e8 una funzione molto utile in php, non solo per gli array, ma anche per molti altri tipi di oggetto. Nel caso degli array, comunque, 32'e8 funzionale perch33'e9 consente di stampare il contenuto degli stessi in modo molto utile per eseguire, ad esempio, un veloce debug.\} 220120\{Ad esempio\} 26006620620 260066206200283 220120\{restituir24'e0 il seguente output:\} 26006620620\{array(\} 26006620620\{ \}\{=> 100,\} 26006620620\{ \}\{=> 200,\} 26006620620\{ \}\{=> 300\} 260066206200283\{ \}\{)\} 324012091028428\{- \}\{\{*count\}\{*count\}count\} 220120\{La funzione count, come suggerisce il nome, restituisce il numero di elementi contenuti nell'array.\} 26006620620 260066206200283 220120\{avr24'e0 come output\} 260066206200283\{4\} 324012091028428\{\{*implode_ed_explode\}\{*implode_ed_explode\}- implode ed explode\} 220120\{Queste due funzioni lavorano con le stringhe e gli array. La sintassi 32'e8:\} 26006620620 260066206200283 220120\{La prima restituisce una stringa ottenuta concatenando in ordine tutti gli elementi di \}\{18666array\}\{ inframezzandoli dalla stringa \}\{18666collante\}\{.La seconda restituisce un array ottenuto separando \}\{18666stringa\}\{ utilizzando \}\{18666delimitatore\}\{ come separatore.Ad esempio:\} 26006620620 260066206200283 324012091028428\{- \}\{\{*foreach\}\{*foreach\}foreach\} 220120\{Questa non 32'e8 proprio una funzione, ma una struttura di controllo. Funziona cos36'ec:\} 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Esempio:\} 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{oppure, se si vuole visualizzare anche la chiave dell'array si f24'e0 cos36'ec:\} 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Il primo esempio restituir24'e0 \}\{18666abc\}\{, il secondo \}\{18666La chiave dell'array a 32'e8 uguale a lettera 1.\}\{\}\{18666La chiave dell'array b 32'e8 uguale a lettera 2.\}\{\}\{18666La chiave dell'array c 32'e8 uguale a lettera 3.\} 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 224012091036436\{- \}\{\{*Selezione_binaria\}\{*Selezione_binaria\}Selezione binaria\} 220120\{La selezione binaria consente in una scelta tra due possibilit24'e0: vero o falso.Questo tipo di selezione si basa sul valore booleano di un'espressione indicata all'inizio della struttura ed esegue il primo blocco indicato se la condizione 32'e8 vera, altrimenti esegue l'eventuale secondo blocco.In PHP questa condizione si accede tramite il costrutto \}\{18666if... then... else\}\{ che funzionano esattamente \}\{\{\}, con l'unica differenza che \}\{18666else if\}\{ si scrive tutto attaccato: \}\{18666elseif\}\{. Ad esempio:\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Il risultato sar24'e0:\} 260066206200283\{$x e' uguale a $y: 10\} 224012091036436\{- \}\{\{*Selezione_multipla\}\{*Selezione_multipla\}Selezione multipla\} 220120\{La selezione multipla consiste in una scelta tra due o pi49'f9 possibilit24'e0 in base al valore di una espressione valutata inzialmente; si esprime con il costrutto \}\{18666switch... case\}\{, che funziona esattamente \}\{\{\}.\} 220120\{Il costrutto esegue il confronto dell'espressione passata a \}\{18666switch\}\{ con tutti i valori \}\{18666case\}\{ ed il confronto si interrompe quando viene incontrata l'istruzione \}\{18666break\}\{.\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Il risultato sar24'e0:\} 260066206200283\{$x e' minore di 0 o maggiore di 4\} 0001925510242554241033 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 220120\{Un tipo particolare di ciclo, non presente in C e nei linguaggi derivati, 32'e8 il ciclo \}\{18666foreach\}\{, che si presta ad essere usato in molte situazioni.\} 220120\{La sintassi tipica dell'istruzione 32'e8 questa:\} 26006620620 26006620620 260066206200283 220120\{Tipicamente $variabile_su_cui_iterare 32'e8 un \}\{\{\}. In questo caso il ciclo scorrer24'e0 tutti gli elementi dell'array, assegnando di volta in volta il loro valore alla variabile \}\{18666$valore\}\{, che potr24'e0 essere usata all'interno del corpo del ciclo.\} 220120\{Se dovesse essere necessario, per qualche ragione, conoscere anche la chiave dell'array a cui tale oggetto 32'e8 associato, 32'e8 possibile usare la sintassi\} 26006620620 26006620620 260066206200283 220120\{Anche se foreach 32'e8 tipicamente usato per scorrere tutti gli elementi di un array pu42'f2 essere usato anche per scorrere tutti membri pubblici, o comunque accessibili, di una classe. \} 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 220120\{Questo elenco mostra solo le principali funzioni che vi capiter24'e0 di utilizzare programmando in PHP. Per l'elenco completo, consulta \}\{\{\}\} 303030303283283283289972224012091036436240120\{*toctitle1\}\{*togglelink\}\{*toctitle1\}\{*togglelink\}\{*toctitle1\}\{*togglelink\}\{*toctitle1\}\{*togglelink\}\par}
{\pard \ql \f0 \sa180 \li0 \fi0 27018 0000-28370770707070-283\{\{\} \} 27018 0000-28370770707070-283\{\{\} \} 27018 0000-28370770707070-283\{\{\} \} 27018 0000-28370770707070-283\{\{\} \} 27018 0000-28370770707070-2830283\{\{\} \}224012091036436\{//<[CDATA[if (window.showTocToggle) \{ var tocShowText = "mostra"; var tocHideText = "nascondi"; showTocToggle(); \} //]]>- \}\{\{*Usare_le_funzioni\}\{*Usare_le_funzioni\}Usare le funzioni\} 220120\{Per utilizzare una funzione non bisogna fare altro che \}\{richiamarla\}\{ (o \}\{invocarla\}\{). Se esiste ad esempio una funzione \}\{18666abs\}\{ sar24'e0 sufficiente usarla in questa maniera:\} 26006620620 260066206200283 220120\{Nel momento in cui ci riferiamo alla funzione si dice che la stiamo appunto richiamando.\} 224012091036436\{- \}\{\{*Funzioni_di_stringa\}\{*Funzioni_di_stringa\}Funzioni di stringa\} 220120\{777 226'95\}019 0000-28370770707070-283\{strlen\}\{ \} 260066206200283 295670567000283\{Restituisce il numero di caratteri di una stringa \} 220120\{777 226'95\}020 0000-28370770707070-283\{strstr\}\{ \} 260066206200283 295670567000283\{Restituisce la parte di \}\{18666stringa1\}\{ che si trova dopo la prima occorrenza di \}\{18666stringa2\}\{ in \}\{18666stringa1\}\{. Se non viene trovata alcuna occorrenza, la funzione restituisce \}\{18666false\}\{. Ad esempio: \} 260066206200283 295670567000283\{restituisce \}\{18666".wikibooks.org"\}\{ \} 220120\{777 226'95\}021 0000-28370770707070-283\{strpos\}\{ \} 260066206200283 295670567000283\{Restituisce la posizione della prima istanza di \}\{18666stringa2\}\{ in \}\{18666stringa1\}\{. Si noti che il conteggio dei caratteri avviene a partire da 0. Ad esempio: \} 260066206200283 295670567000283\{restituisce 2. Se si vuole cercare il carattere successivo si pu42'f2 usare questo metodo: \} 260066206200283 220120\{777 226'95\}022 0000-28370770707070-283\{chr\}\{ e \}\{ord\}\{ \} 26006620620 260066206200283 295670567000283\{Queste due funzioni restituiscono rispettivamente il carattere corrispondente al carattere \}\{numero\}\{ nella tabella ASCII e la posizioni di \}\{18666carattere\}\{ sempre nella tabella ASCII. Le due funzioni sono complementari. \} 224012091036436\{- \}\{\{*Funzioni_numeriche\}\{*Funzioni_numeriche\}Funzioni numeriche\} 220120\{777 226'95\}023 0000-28370770707070-283\{abs\}\{ \} 260066206200283 295670567000283\{Restituisce il valore assoluto di \}\{18666numero\}\{ \} 220120\{777 226'95\}024 0000-28370770707070-283\{pi\}\{ \} 260066206200283 295670567000283\{Restituisce un valore approssimato di \}\{\{\} \} 220120\{777 226'95\}025 0000-28370770707070-283\{pow\}\{ \} 260066206200283 295670567000283\{Restituisce \}\{18666base\}\{ elevato alla \}\{18666esponente\}\{. L'esponte fornito deve essere positivo \} 220120\{777 226'95\}026 0000-28370770707070-283\{rand\}\{ \} 260066206200283 295670567000283\{Restituisce un numero casuale compreso tra \}\{18666min\}\{ e \}\{18666max\}\{ (inclusi) \} 220120\{777 226'95\}027 0000-28370770707070-283\{round\}\{, \}\{ceil\}\{, \}\{floor\}\{ \} 26006620620 26006620620 260066206200283 295670567000283\{Restituiscono il valore di \}\{18666numero\}\{ arrotondato rispettivamente di \}\{18666n\}\{ posizioni decimali, all'unit24'e0 per eccesso e all'unit24'e0 per difetto \} 220120\{777 226'95\}028 0000-28370770707070-283\{number_format\}\{ \} 260066206200283 29567056700\{Restituisce una stringa contenente un valore formattato di \}\{18666numero\}\{ in base ai parametri passati. Accetta uno, due o quattro parametri.\} 29567056700\{Se ne viene passato solo uno, viene restituito il numero senza decimali usando la virgola come separatore di migliaia\} 29567056700\{Se vengono passati due parametri, viene restituito il numero formattato con \}\{18666n\}\{ cifre decimali, usando il punto come separatore decimale e una virgola come separatore di migliaia.\} 295670567000283\{Se sono passati tutti i parametri, viene restituito il numero con \}\{18666n\}\{ cifre decimali, usando \}\{18666sep_decimali\}\{ come separatore decimale e \}\{18666sep_migliaia\}\{ come separatore di migliaia. \} 220120\{777 226'95\}029 0000-28370770707070-283\{base_convert\}\{ \} 260066206200283 220120\{Converte una stringa contente \}\{18666numero\}\{ espresso nella base \}\{18666da_base\}\{ in una stringa contente il corrispondente nella base \}\{18666a_base\}\{. Ad esempio:\} 260066206200283 295670567000283\{restituisce 15. \} 224012091036436\{- \}\{\{*Funzioni_per_data_e_ora\}\{*Funzioni_per_data_e_ora\}Funzioni per data e ora\} 220120\{777 226'95\}030 0000-28370770707070-283\{time\}\{ \} 260066206200283 295670567000283\{La principale funzione di data-ora 32'e8 \}\{18666time\}\{ che restituisce l'ora corrente del server in formato Unix Timestamp. Il formato Unix Timestamp indica il numero di secondi passati dalla cosidetta Unix Epoch (1 gennaio 1970 alle ore 00:00:00 GMT) ed 32'e8 usato da PHP per gestire le date. \} 220120\{777 226'95\}031 0000-28370770707070-283\{date\}\{ \} 260066206200283 29567056700\{Una volta ottenuto un valore di data valido (ad esempio tramite la funzione \}\{18666time\}\{ o da un database MySql) 32'e8 possibile formattarlo usando la funzione \}\{18666date\}\{ che accetta un parametro obbligatorio, la stringa \}\{18666formato\}\{, e un parametro facoltativo \}\{18666ora\}\{ che specifica la marcatura temporale da formattare e restituisce una stringa. \} 29567056700\{Per formattare una data pu42'f2 essere comodo usare le costanti predefinite di PHP per la formattazione delle date come DATE_COOKIE, che formatta le date secondo il metodo usato nei cookie HTML (es. Monday, 15-Aug-05 15:52:01 UTC) (si veda \}\{\{\} l'elenco completo) \} 295670567000283\{Per ottenere un formato personalizzato, nella stringa 32'e8 possibile inserire i seguenti parametri (si ricorda che l'output pu42'f2 variare in base alle impostazioni di lingua del server): \} 30303030201534520153452015345345146120153452015345201534534577832015345201534520153452015345997228282830303030345201534520153452015345997227303030303452015345201534534514613452015345201534534577833452015345201534520153459972272727303030303452015345201534534514613452015345201534534577833452015345201534520153459972272727303030303452015345201534534514613452015345201534534577833452015345201534520153459972272727303030303452015345201534534514613452015345201534534577833452015345201534520153459972272727303030303452015345201534534514613452015345201534534577833452015345201534520153459972272727303030303452015345201534520153459972273030303034520153452015345345146134520153452015345345778334520153452015345201534599722727273030303034520153452015345345146134520153452015345345778334520153452015345201534599722727273030303034520153452015345345146134520153452015345345778334520153452015345201534599722727273030303034520153452015345201534599722730303030345201534520153453451461345201534520153453457783345201534520153452015345997227272730303030345201534520153453451461345201534520153453457783345201534520153452015345997227272730303030345201534520153453451461345201534520153453457783345201534520153452015345997227272744 303030303452015345201534520153459972273030303034520153452015345345146134520153452015345345778334520153452015345201534599722727273030303034520153452015345345146134520153452015345345778334520153452015345201534599722727273030303034520153452015345345146134520153452015345345778334520153452015345201534599722727273030303034520153452015345201534599722730303030345201534520153453451461345201534520153453457783345201534520153452015345997227272744 295670567000283\{00'c8 possibile ottenere inoltre \}\{\{\} l'elenco completo. I valori non predefiniti saranno usati tali quali; 32'e8 possibile inoltre evitare i caratteri speciali siano valutati 32'e8 possibile usare il carattere di commutazione "\\" davanti alla lettera. In questo caso si faccia per42'f2 attenzion a commutare il carattere "\\" nel caso le sequenze non corrispondano ad altri caratteri di commutazione. Ad esempio: \} 260066206200283 295670567000283\{restituisce, ad esempio, \}\{18666Sunday the 29th\}\{. \} 220120\{777 226'95\}032 0000-28370770707070-283\{mktime\}\{ \} 220120\{mktime(ore, minuti, secondi, mese, giorno, anno) \} 29567056700\{Restituisce una data in un formato valido per PHP partendo dai valori passati come parametri. L'anno pu42'f2 essere espresso con 2 o 4 cifre.\} 295670567000283\{L'uso di questa funzione permette di creare facilmente date da formattare. Ad esempio: \} 260066206200283 295670567000283\{restituisce \} 260066206200283\{30 luglio 1992\} 224012091036436\{- \}\{\{*Altre_funzioni_utili\}\{*Altre_funzioni_utili\}Altre funzioni utili\} 220120\{777 226'95\}033 0000-28370770707070-283\{include\}\{ e \}\{include_once\}\{ \} 26006620620 260066206200283 220120\{Queste due funzioni risultano molto utili nella programmazione di applicazione complesse, in quanto permettono di includere nella pagina PHP un altro file esterno.Quando incontra queste funzioni, il motore PHP:\} 220120\{1.\}034 0000-28370770707070-28300\{chiude i tag  entrando quindi in modalit24'e0 normale \} 220120\{2.\}034 0000-28370770707070-28300\{inserisce ed analizza il testo del file \}\{18666file\}\{; per inserire codice PHP sar24'e0 quindi necessario inserire nuovamente i tag  \} 220120\{3.\}034 0000-28370770707070-283\{riapre il tag <?php \} 220120\{In questo modo 32'e8 possibile creare applicazione modulari inserendo nel file che verr24'e0 incluso le nostre funzioni personalizzate (che vedremo \}\{\{\}.Si facci24'e0 attenzione se si inserisce codice PHP nei file da includere a salvarli con estensione .php (soprattutto se contengono informazioni sensibili come password o dati personali) altrimenti un eventuale utente malintenzionati potrebbe leggerne il contenuto, in quanto il codice PHP non verrebbe prima letto dal server.La funzione \}\{18666include_once\}\{ si differenzia da \}\{18666include\}\{ in quanto include il file solo se esso non 32'e8 gi24'e0 stato incluso nella pagina.\} 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 224012091036436 220120\{La definizione di una nuova funzione in PHP 32'e8 la seguente:\} 26006620620 26006620620 260066206200283 220120\{Dove \}\{18666$arg1, $arg2\}\{ sono eventuali variabili che assumeranno i valori presi come parametri.\} 224012091036436\{- \}\{\{*Impostare_un_valore_di_ritorno\}\{*Impostare_un_valore_di_ritorno\}Impostare un valore di ritorno\} 220120\{In una funzione personalizzata per impostare il valore restituito dalla funzione si usa l'istruzione \}\{18666return\}\{. La sua sintassi 32'e8\} 260066206200283 220120\{Quando il motore PHP incontra questa funzione restituisce il valore di \}\{18666espr\}\{ e interrompe l'esecuzione del blocco della funzione tra parentesi.\} 220120\{Vediamo adesso un esempio che fa uso del comando return. Vogliamo realizzare un convertitore euro -> lire.\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Analizziamo la funzione "converti". Quando viene invocata riceve un parametro (la quantit24'e0 di euro da convertire in lire) che viene memorizzata nella variabile $euro. La prima istruzione effettua la conversione vera e propria. Per far si che la funzione restituisca il risultato calcolato viene usato il comando return affiancato dalla variabile da restituire $lire.\} 220120\{Per utilizzare la funzione converti dovremo quindi specificare anche la variabile che raccoglier24'e0 il risultato restituito da tale funzione. Nel nostro esempio sar24'e0 la variabile $vecchio_conio a conservare tale valore.\} \\par \\pard\\plain \\s22\\sb0\\sa120\{\\rtlch \\ltrch\\loch Anche se il comando return \\u232\\'e8 in grado di restituire una sola variabile \\u232\\'e8 possibile far si che una funzione restituisca anche pi\\u249\\'f9 di un valore attraverso un semplice espediente. E' sufficiente infatti impacchettare tutti i valori da restituire all'interno di un array e poi usare il comando return proprio con questo array.\} \\par \\pard\\plain \\s2\\sb240\\sa120\\keepn\\b\\dbch\\af9\\dbch\\af10\\afs36\\ab\\loch\\f4\\fs36\{\\rtlch \\ltrch\\loch - \}\{\{\\*\\bkmkstart Usare_i_parametri\}\{\\*\\bkmkend Usare_i_parametri\}\\rtlch \\ltrch\\loch Usare i parametri\} \\par \\pard\\plain \\s22\\sb0\\sa120\{\\rtlch \\ltrch\\loch Una volta definita una funzione \\u232\\'e8 possibile lavorare sui parametri indicati tra parentesi, che possono essere passati per \}\{\\b\\rtlch \\ltrch\\loch valore\}\{\\rtlch \\ltrch\\loch  o per \}\{\\b\\rtlch \\ltrch\\loch riferimento\}\{\\rtlch \\ltrch\\loch , allo stesso modo con le variabili. Ad esempio:\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch  \}\{\\rtlch \\ltrch\\loch\\loch\\f8 function prova (&$param1, $param2) \\\{\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch  \}\{\\rtlch \\ltrch\\loch\\loch\\f8 &$param1 = $param2 + 5;\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch  \}\{\\rtlch \\ltrch\\loch\\loch\\f8 \\\} \} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch  \} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\sb0\\sa283\\ltrpar\{\\rtlch \\ltrch  \}\{\\rtlch \\ltrch\\loch\\loch\\f8 prova($var1, 3);\} 220120\{Dopo l'esecuzione della funzione la variabile \}\{18666$var1\}\{ conterr24'e0 cos36'ec il valore 8. Si faccia ovviamente attenzione a passare come parametro una variabile e non un'espressione, perch33'e9 altrimenti non 32'e8 possibilie effettuare il passaggio per riferimento.\} 220120\{Si noti che una funzione personalizzata deve essere invocata necessariamente dopo la sua dichiarazione. Ad esempio:\} 26006620620 26006620620 26006620620 260066206200283 220120\{In questo caso il motore PHP restituir24'e0 un errore, in quanto la lettura dello script avviene in sequenza e la funzione \}\{18666funzione_esempio\}\{ non 32'e8 ancora stata dichiarata nel momento in cui viene chiamata.\} 324012091028428\{- \}\{\{*Parametri_predefiniti\}\{*Parametri_predefiniti\}Parametri predefiniti\} 220120\{00'c8 possibile inoltre prevedere che l'utente non passi alcun valore nel chiamare la funzione ed impostare dei valori predefiniti che deve assumere il parametro nel caso non venga specificato. Ad esempio:\} 26006620620 26006620620 26006620620 260066206200283 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 00019255102425542410330040040\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 220120\{Per far s36'ec che una variabile diventi globale occorre utilizzare la funzione \}\{register\}\{ che ne permette la registrazione. Cos36'ec operando, mentre le normali variabili globali delle formvengono registrate automaticamente, sar24'e0 possibile utilizzare altre variabili che avranno validit24'e0 per l'interala durata della sessione.\} 220120\{PHP utilizza degli \}\{array associativi\}\{ per diverse variabili globali. I pi49'f9 importanti sono \}\{\{\} e \}\{\{\}. Seppure a partire dalla versione 4.3 PHP permette di utilizzare automaticamente le variabili passate dalle form, questi due array consentono di recepire le variabili passate attraverso le form sia con il metodo GET sia con il metodo POST.\} 220120\{Per quando riguarda le altre variabili globali, da utilizzare all'interno di uno script PHP, vale una regola che potremmo considerare inversa alle regole di \}\{scope\}\{ di C e dei principali linguaggi: se all'interno di una pagina o di una funzione voglio utilizzare la variabile \}\{$userid\}\{ 32'e8 opportuno che utilizzi prima la notazione \}\{global $userid\}\{. Operando in questo modo la variabile globale acquista visibilit24'e0 all'interno della funzione.\} 220120 220120 220120\{$GLOBALS contiene i riferimenti a:\} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_GET\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_POST\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_SERVER\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_COOKIE\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_SESSION\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_FILES\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_ENV\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-28300\{18666_REQUEST\}\{ \} 220120\{777 226'95\}035 0000-28370770707070-283\{18666GLOBALS\}\{ \} 220120\{Si noti che $GLOBALS 32'e8 \}\{ricorsivo\}\{, ovvero contiene se stesso all'infinito. Tecnicamente infatti 32'e8 corretto chiamare una variabile anche in questo modo: $GLOBALS["GLOBALS"]["GLOBALS"]['nomevar']. Chiaramente per42'f2 non sarebbe n33'e9 logico, n33'e9 utile ad alcun fine\} 0001925510242554241033 00019255102425542410330024024\par}
{\pard \ql \f0 \sa0 \li0 \fi0 220120 224012091036436\{\{*Utilizzo\}\{*Utilizzo\}Utilizzo\} 220120\{Si pu42'f2 chiamare una pagina passandole variabili tramite $_GET da un \}\{form\}\{ \}\{HTML\}\{, a patto che la propriet24'e0 html del form in questione sia impostata a GET (es.\par}
{\pard \ql \f0 \sa180 \li0 \fi0 ). In questo caso le coppie di nomi-valori saranno dati dai nomi dei campi form e dai rispettivi valori.00'c8 possibile anche chiamare una pagina passandogli variabili per indirizzo semplicemente chiamando la pagina e accodando al nome \}\{?\}\{, seguito dalle variabili in ordine chiave=valore e suddivise da una \}\{&\}\{.\} 260066206200283\{www.sito.com/chk.php?var1=valore1&var2=valore2\} 220120\{In questo caso avremmo un array che avr24'e0 per chiavi \}\{18666var1\}\{ e \}\{18666var2\}\{ e per valori rispettivamente \}\{18666valore1\}\{ e \}\{18666valore2\}\{.\} 224012091036436\{\{*Esempi\}\{*Esempi\}Esempi\} 324012091028428\{\{*In_un_Forum\}\{*In_un_Forum\}In un Forum\} 220120\{Un classico utilizzo dell'array \}\{superglobale\}\{ $_GET 32'e8 quello della visualizzazione di un particolare \}\{thread\}\{ di un forum.In questo caso sar24'e0 necessario predisporre una pagina ad esempio showThread.php che, letto un valore passato come ID, restituisca il thread corrispondente.Per fare riferimento, ad esempio, al thread con id 23, si potr24'e0 usare la notazione\} 260066206200283\{www.forumTestWiki.it/showThread.php?id=23\} 220120\{In queste situazioni l'utilizzo di GET risulta comodo, in quanto:\} 220120\{1.\}036 0000-28370770707070-28300\{non c'32'e8 alcun problema di sicurezza (l'ID del thread non 32'e8 un dato sensibile) \} 220120\{2.\}036 0000-28370770707070-283\{un utente pu42'f2 creare un segnalibro alla pagina in modo che, poich33'e9 contiente nella URL l'ID del thread, questo sar24'e0 caricato automaticamente. \} 324012091028428\{\{*Per_un_login\}\{*Per_un_login\}Per un login\} 220120\{00'c8 possibile anche utilizzare la \}\{querystring\}\{ per un sistema di login, ma questo metodo 32'e8 decisamente carente in fatto di sicurezza, poich33'e9 i dati come nome utente e password sarebbero palesemente visualizzabili a schermo. \} 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 220120\{In sostanza 32'e8 un \}\{array associativo\}\{ di chiavi e valori i cui elementi sono rappresentati da tutti i campi passati allo script da un \}\{form\}\{ con \}\{18666method\}\{ impostato a \}\{18666POST\}\{ e dai rispettivi valori; il suo funzionamento 32'e8 quindi simile a $_GET ma i valori non sono passati nella querystring ma tramite il \}\{response\}\{ HTTP.\} 224012091036436\{\{*Utilizzo1\}\{*Utilizzo1\}Utilizzo\} 220120\{00'c8 possibile accedere agli elementi di questo array iterando su di essi con un ciclo \}\{18666foreach\}\{ oppure reperire il singolo valore di un elemento se ne conosciamo la chiave, ad esempio:\} 260066206200283\{$_POST[chiave]\} 220120\{L'accesso alle variabili potr24'e0 essere fatto anche come array semplice: $_POST[0] - purch33'e9 ci si ricordi a cosa corrisponde nel form chiamante.\} 220120\{Ad esempio, supponiamo che in una determinata pagina vi sia un form con il metodo POST e due campi di input, uno chiamato \}\{userid\}\{ (\}\{18666name="userid"\}\{) ed uno chiamato \}\{pwd\}\{.La pagina che verr24'e0 chiamata dalla form potr24'e0 accedere al valore delle variabili attraverso l'array associativo $_POST: cio32'e8, $_POST["userid"] ci permetter24'e0 di accedere al valore della stringa scritta nel campo corrispondente, e lo stesso per quanto riguarda il campo pwd. L'accesso alle variabili potr24'e0 essere fatto anche come array semplice: $_POST[0], anche se questo metodo rende il codice pi49'f9 \}\{oscuro\}\{.\} 220120\{Nelle versioni a partire dalla 4.3 l'uso delle variabili globali nelle form 32'e8 stato gestito in maniera automatica; ad esempio, se la form chiamante ha un campo chiamato \}\{userid\}\{, la pagina chiamata potr24'e0 utilizzare direttamente la variabile \}\{$userid\}\{ ed in essa si trover24'e0 il valore corrispondente. Questo utilizzo 32'e8 tuttavia sconsigliato soprattutto per motivi di sicurezza.\} 224012091036436\{\{*Esempi1\}\{*Esempi1\}Esempi\} 220120\{Un esempio 32'e8 quello di un form per un login contente un campo \}\{18666id\}\{ e un campo \}\{18666pwd\}\{ e con \}\{18666METHOD="POST"\} 220120\{Nella pagina di arrivo del modulo sar24'e0 quindi possibile eseguire una query al database contenente gli userID e le password, cos36'ec da verificare se esiste o meno un utente con tali caratteristiche. \} 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 224012091036436 220120\{$_SESSION rappresenta un array associativo contenente le variabili attive e valorizzate per la sessione in corso.Per \}\{sessione\}\{ si intende l'arco di tempo dal momento in cui un client esegue la prima request al vostro server fino al momento in cui il server invia la sua ultima risposta al client.Il protocollo HTTP 32'e8 infatti stateless, non permette cio32'e8 il controllo dello stato (le variabili della pagina, i suoi contenuti) tra una richiesta e l'altra al server.\} 220120\{Per gestire le sessioni il motore PHP registra sul server un array associativo che pu42'f2 essere letto dalle pagine della sessione e che 32'e8 associato ad un ID univoco sul server stesso; per quanto riguarda il client, crea sul computer dell'utente un cookie contenente lo stesso ID alfanumerico. Quando avviene cos36'ec la chiamata HTTP, il server pu42'f2 verificare sul computer dell'utente la presenza di un cookie contenente un ID valido sul server e associare quindi ad esso i dati della sessione. In questo modo esister24'e0 sempre un collegamento univoco tra server e client.Nel caso l'utente abbia disabilitato i cookie, PHP consente al client di inviare l'ID della sessione appendendolo alla stringa di query oppure ai parametri di un form.\} 224012091036436\{\{*Gestione_delle_sessioni\}\{*Gestione_delle_sessioni\}Gestione delle sessioni\} 220120\{La prima operazione che deve essere eseguita 32'e8 quella di attivare il collegamento tra server e client e inizializzare quindi la sessione. Per fare ci42'f2 PHP mette a disposizione la funzione\} 260066206200283\{session_start();\} 220120\{Si noti che 32'e8 necessario inserire questa funzione in tutte le pagine che devono avere accesso alle variabili di sessione.Esse sono contenute nell'array associativo \}\{18666$_SESSION\}\{ e risulta molto facile impostare o ottenere il valore di una variabile di sessione:\} 260066206200283\{$_SESSION[chiave] = valore;\} 220120\{imposta una variabile di sessione \}\{18666chiave\}\{ dal valore \}\{18666valore\}\{.Per richiamare una variabile basta usare la notazione:\} 260066206200283\{$_SESSION[chiave]\} 220120\{che restituisce il valore della variabile di sessione \}\{18666chiave\}\{.\} 220120\{PHP mette inoltre a disposizione alcune funzioni relative alla sessione, come il nome, l'ID, eccetera. Sono:\} 26006620620\{session_name() //restituisce il nome della sessione\} 26006620620\{session_id() //restituisce l'ID\} 260066206200283\{session_encode() //restituisce le variabili di sessione nella forma chiave|valore\} 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 220120 224012091036436\{[\}\{\{\}] \}\{\{*Utilizzo2\}\{*Utilizzo2\}Utilizzo\} 220120\{Per impostare un cookie 32'e8 possibile usare la funzione\} 260066206200283\{setcookie(nome, valore, scadenza, percorso, dominio, sicuro);\} 220120\{dove \}\{18666nome\}\{ e \}\{18666valore\}\{ sono il nome e il valore del cookie.Per specificare la scadenza in Unix Timestamp, 32'e8 possibile usare la funzione \}\{18666time()\}\{ sommando ad essa ad esempio 60{\i 60}24; in questo modo il cookie scadr24'e0 dopo un giorno da quando 32'e8 stato creato.Per una descrizione pi49'f9 approfondita dei cookie e dei parametri, si veda \}\{\{\}\} 220120\{Per accedere ad un cookie memorizzato in precendenza dal nostro sito 32'e8 possibile usare la notazione:\} 260066206200283\{$_COOKIE[nome]\} 220120024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 220120 220120\{In sostanza 32'e8 un \}\{array associativo\}\{ di chiavi e valori i cui elementi sono rappresentati da informazioni riguardanti il lato server, il lato client e la connessione tra di essi.\} 224012091036436\{[\}\{\{\}] \}\{\{*Utilizzo3\}\{*Utilizzo3\}Utilizzo\} 220120\{00'c8 possibile accedere agli elementi di questo array \}\{iterando\}\{ su di essi con un ciclo \}\{18666foreach\}\{ oppure reperire il singolo valore di un elemento se ne conosciamo la chiave. Nell'esempio seguente viene stampato l'indirizzo IP dell'utente:\} 26006620620 260066206200283 220120\{Si noti che alcune chiavi restituiscono o meno un valore a seconda dello stato del server e del client.Ecco l'elenco delle chiavi in ordine alfabetico:\} 220120\{777 226'95\}037 0000-28370770707070-28300\{argc\}\{ il numero degli argomenti passati da linea di comando. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{argv\}\{ l'array degli argomenti passati da linea di comando. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{AUTH_TYPE\}\{ tipo di autenticazione. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{DOCUMENT_ROOT\}\{ la cartella radice dello script definita nel file di configrazione del server. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{GATEWAY_INTERFACE\}\{ la versione delle specifiche CGI usate dal server. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{HTTP_ACCEPT\}\{ \} 220120\{777 226'95\}037 0000-28370770707070-28300\{HTTP_ACCEPT_CHARSET\}\{ tipo di carattere accettato. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{HTTP_ACCEPT_ENCODING\}\{ il tipo di encoding accettato. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{HTTP_ACCEPT_LANGUAGE\}\{ la lingua accettata, ad es. 'it'. \} 220120\{777 226'95\}037 0000-28370770707070-28300\{HTTP_CONNECTION\}\{ \} 220120\{777 226'95\}037 0000-28370770707070-28300\{HTTP_HOST\}\{ \} 220120\{777 226'95\}037 0000-28370770707070-28300\{HTTP_REFERER\}\{ se ne esiste uno contiene l'indirizzo della pagina precedente a quella attuale, utile per sapere da dove arriva chi accede al nostro sito. \} 220120\{777 226'95\}037 0000-28370770707070-283\{HTTP_USER_AGENT\}\{ informazioni sul sistema operativo e browser del client, ad es. \} 260066206200283\{Mozilla/5.0 (compatible; Googlebot/2.1; +\}\{\{\})\} 295670567000283\{sono le informazioni lasciate dal bot di Google e \} 260066206200283\{Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.10) Gecko/20050716 Firefox/1.0.6 \} 295670567000283\{per un utente che usa un sistema Linux e Mozilla Firefox \} 220120\{777 226'95\}038 0000-28370770707070-28300\{PATH_TRANSLATED\}\{ \} 220120\{777 226'95\}038 0000-28370770707070-28300\{QUERY_STRING\}\{ la querystring appesa, ottenibile anche con $_GET \} 220120\{777 226'95\}038 0000-28370770707070-28300\{REMOTE_ADDR\}\{ l'indirizzo IP del client. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{REMOTE_HOST\}\{ \} 220120\{777 226'95\}038 0000-28370770707070-28300\{REMOTE_PORT\}\{ la porta usata dall'utente per effettuare la connessione. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{REQUEST_METHOD\}\{ il tipo di richiesta fatto per accedere alla pagina, ad esempio 'GET' o 'POST'. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{REQUEST_TIME\}\{ il timestamp all'inizio della richiesta (solo dalla versione 5.1.0 di PHP) \} 220120\{777 226'95\}038 0000-28370770707070-28300\{REQUEST_URI\}\{ la URI usata per accedere questa pagina. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{SERVER_ADMIN\}\{ l'amministratore del server dal file di configurazione del server. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{SERVER_NAME\}\{ il nome dell' host dove lo script viene eseguito. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{SERVER_PORT\}\{ la porta usata dal server. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{SERVER_PROTOCOL\}\{ il nome e la versione del protocollo tramite il quale 32'e8 stata richiesta la pagina ad esempio 'HTTP/1.1'. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{SERVER_SIGNATURE\}\{ la firma del server contenente versione e host name. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{SERVER_SOFTWARE\}\{ la stringa di identificazione del server. \} 220120\{777 226'95\}038 0000-28370770707070-28300\{SCRIPT_FILENAME\}\{ il percorso assoluto dello script in esecuzione. \} 220120\{777 226'95\}038 0000-28370770707070-283\{SCRIPT_NAME\}\{ il nome del file \} 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 00019255102425542410330024024\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 220120 000192551024255424103300\{*toc2\}\{*toc2\}\{*toc2\}\{*toc2\}44\par}
{\pard \ql \f0 \sa180 \li0 \fi0 303030303283283283289972224012091036436240120\{\{*toctitle2\}\{*toctitle2\}Indice\} 27 27039 0000-28370770707070-283\{\{\} \} 27039 0000-28370770707070-283\{\{\} \} 27139 0000-28314141414014140-283\{\{\} \} 27039 0000-28370770707070-283\{\{\} \} 27039 0000-28370770707070-2830283\{\{\} \}224012091036436\{//<[CDATA[if (window.showTocToggle) \{ var tocShowText = "mostra"; var tocHideText = "nascondi"; showTocToggle(); \} //]]>[\}\{\{\}] \}\{\{*Aprire_e_chiudere_i_file\}\{*Aprire_e_chiudere_i_file\}Aprire e chiudere i file\} 220120\{Per prima cosa, quando lavoriamo con un file, dobbiamo aprirlo usando la funzione \}\{18666fopen\}\{ la cui sintassi 32'e8:\} 260066206200283\{fopen(nomefile, modalit24'e0);\} 220120\{dove \}\{18666nomefile\}\{ 32'e8 l'indirizzo del file sul server oppure in Internet e \}\{18666modalit24'e0\}\{ 32'e8 una stringa che specifica il modo con cui si apre il file. La funzione restituisce un puntatore univoco al file aperto che servir24'e0 successivamente per eseguire le funzione legate alla lettura e alla scrittura del file.La modalit24'e0 pu42'f2 essere:\} 303030302015345201534520153453451060201534520153452015345201534599722828303030303452015345201534534510603452015345201534520153459972272730303030345201534520153453451060345201534520153452015345997227273030303034520153452015345345106034520153452015345201534599722727303030303452015345201534534510603452015345201534520153459972272730303030345201534520153453451060345201534520153452015345997227273030303034520153452015345345106034520153452015345201534599722727220120\{Ad esempio:\} 26006620620 26006620620 260066206200283 220120\{Per indicare la directory corrente, si usa un punto (.). Per salire di un livello nella gerarchia, se ne usano due (..). Ad esempio:\} 260066206200283 220120\{Se il server 32'e8 su sistem Windows, che usano le barre retroverse, sar24'e0 necessario commutarle:\} 260066206200283 220120\{Per chiudere un file gi24'e0 aperto usiamo semplicemente la funzione\} 260066206200283\{fclose(puntatore);\} 224012091036436\{[\}\{\{\}] \}\{\{*Leggere_e_scrivere_un_file\}\{*Leggere_e_scrivere_un_file\}Leggere e scrivere un file\} 220120\{Per \}\{leggere\}\{ un file si usa la funzione \}\{18666fread\}\{ la cui sintassi 32'e8:\} 260066206200283\{fread(handle, lunghezza)\} 220120\{e legge \}\{18666lunghezza\}\{ byte dal file aperto identificato dal puntatore \}\{18666handle\}\{; dopodich33'e9, sposta il puntatore del file di \}\{18666lunghezza\}\{ byte in avanti.\} 220120\{Ad esempio:\} 26006620620 26006620620 260066206200283 220120\{Con questo breve spezzone, \}\{18666$contenuto\}\{ conterr24'e0 i primi dieci byte del file e \}\{18666$cont2\}\{\\rtlch \\ltrch\\loch  i byte dall'undicesimo al cinquantesimo.,\} \\par \\pard\\plain \\s22\\sb0\\sa120\{\\rtlch \\ltrch\\loch Un'altra funzione utile \\u232\\'e8 \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch fgets\}\{\\rtlch \\ltrch\\loch , che funziona come \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch fread\}\{\\rtlch \\ltrch\\loch , con la differenza che interrompe la lettura dei dati anche quando incontra un carattere EOF (fine del file) o EOL (fine della riga); questo \\u232\\'e8 utile nell'ambito della lettura di \}\{\\i\\rtlch \\ltrch\\loch stream\}\{\\rtlch \\ltrch\\loch  input/output.\} \\par \\pard\\plain \\s22\\sb0\\sa120\{\\rtlch \\ltrch\\loch Per \}\{\\b\\rtlch \\ltrch\\loch scrivere\}\{\\rtlch \\ltrch\\loch  su un file aperto in modalit\\u224\\'e0 di scrittura \\u232\\'e8 possibile usare la funzione \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch fwrite\}\{\\rtlch \\ltrch\\loch  la cui sintassi \\u232\\'e8:\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\sb0\\sa283\{\\rtlch \\ltrch\\loch fwrite(handle, stringa, n);\} \\par \\pard\\plain \\s22\\sb0\\sa120\{\\rtlch \\ltrch\\loch e scrive sul file aperto e identificato da \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch handle\}\{\\rtlch \\ltrch\\loch  i primi \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch n\}\{\\rtlch \\ltrch\\loch  byte di \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch stringa\}\{\\rtlch \\ltrch\\loch . Se \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch stringa\}\{\\rtlch \\ltrch\\loch  \\u232\\'e8 minore di \}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch n\}\{\\rtlch \\ltrch\\loch  byte, viene scritto il suo contenuto per intero. La funzione restituisce -1 in caso di errore.\} \\par \\pard\\plain \\s3\\sb240\\sa120\\keepn\\b\\dbch\\af9\\dbch\\af10\\afs28\\ab\\loch\\f4\\fs28\{\\rtlch \\ltrch\\loch [\}\{\{\\field\{\\*\\fldinst HYPERLINK "http://it.wikibooks.org/w/index.php?title=PHP/Programmazione/File&action=edit&section=3" \}\{\\fldrslt \{\\cf9\\ul\\ulc0\\langfe255\\alang255\\lang255\\rtlch \\ltrch\\loch modifica\}\{\}\}\}\\rtlch \\ltrch\\loch ] \}\{\{\\*\\bkmkstart Creare_un_contatore_visite\}\{\\*\\bkmkend Creare_un_contatore_visite\}\\rtlch \\ltrch\\loch Creare un contatore visite\} \\par \\pard\\plain \\s22\\sb0\\sa120\{\\rtlch \\ltrch\\loch Viste queste due semplici funzioni, possiamo ora creare un semplice contatore di visite nel nostro sito. Per evitare che il conteggio aumenti ad ogni \}\{\\i\\rtlch \\ltrch\\loch reload\}\{\\rtlch \\ltrch\\loch  della pagina, useremo delle variabili di sessione per verificare cos\\u236\\'ec se l'utente stava gi\\u224\\'e0 visitando il sito prima di caricare la pagina.\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch\\loch\\loch\\f8 session_start();\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch\\loch\\loch\\f8 if ($_SESSION['entrato'] == false) \{\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 224012091036436\{[\}\{\{\}] \}\{\{*Altre_funzioni\}\{*Altre_funzioni\}Altre funzioni\} 220120\{Per la lettura dei file esiste anche la funzione \}\{18666file\}\{ la cui sintassi 32'e8:\} 260066206200283\{file(nomefile)\} 220120\{e restituisce l'intero contenuto del file \}\{18666nomefile\}\{ in un array in cui ciascun elemento 32'e8 una riga contenente anche il carattere di ritorno a capo. Ad esempio:\} 260066206200283 220120\{unisce tutte le riga restituendo quindi l'intero contenuto del file.Per eliminare i caratteri di ritorno a capo 32'e8 possibile usare la funzione \}\{18666trim\}\{ che restituisce la stringa passata come argomento eliminando gli spazi bianchi agli estremi.Per leggere un file e metterlo in una stringa basta fare\} 260066206200283 220120\{Per contare le righe di un file si usa:\} 260066206200283 220120\{Pu42'f2 risultare inoltre utile la funzione \}\{18666stat\}\{ la cui sintassi 32'e8:\} 260066206200283\{stat(nome)\} 220120\{e restituisce un array associativo contenente alcune informazione sul file \}\{18666nome\}\{. Tra le chiavi dell'array vi sono:\} 3030303020153452015345201534534524332015345201534520153452015345997228283030303034520153452015345345243334520153452015345201534599722727303030303452015345201534534524333452015345201534520153459972272730303030345201534520153453452433345201534520153452015345997227273030303034520153452015345345243334520153452015345201534599722727220120\{18666basename\}\{18666(file)\}\{ restituisce invece il nome del file passato come argomento:\} 260066206200283 224012091036436\{[\}\{\{\}] \}\{\{*Caricare_file_sul_server\}\{*Caricare_file_sul_server\}Caricare file sul server\} 220120\{PHP mette anche a disposizione, se configurato correttamente, la possibilit24'e0 di caricare sul server dei file forniti dall'utente. Questo 32'e8 possibile usando un form HTML che abbiamo metodo POST, \}\{18666enctype="multipart/form-data"\}\{ e che abbia tra i suoi campi un input con \}\{18666type="file"\}\{. Prendiamo ad esempio questo spezzone di codice:\} 26006620620 26006620620 260066206200283 220120\{Nel file di destinazione avremo a destinazione un array \}\{18666$_FILES\}\{\\rtlch \\ltrch\\loch  che conterr\\u224\\'e0 le informazioni sui file caricati per ora in una directory temporanea sul server:\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch\\loch\\loch\\f8 echo "Nome temporaneo del file sul server, assegnato da PHP: ".$_FILES['file1']['tmp_name']; //per esempio /tmp/php-234\} 26006620620 26006620620 260066206200283 220120\{Si noti che il percorso del file sul server viene assegnato temporaneamente da PHP in una directory impostata nel file di configurazione di PHP.\} 220120\{Per poi copiare definitivamente il file sul server (quello temporaneo viene poi eliminato da PHP alla fine della sessione), usiamo la funzione \}\{18666move_uploaded_file\}\{:\} 26006620620 26006620620 260066206200283 0001925510242554241033 220120 220120\{In questa sede ci limiteremo ad illustrare il funzionamento delle regex su PHP senza per42'f2 spiegare effettivamente come si scrivono le \}\{regular expressions\}\{ (cosa infatti non semplice e di certo impossibile da fare in una pagina).\} 220120\{Per le espressioni regolari sono stati scritti varie funzioni, quelle pi49'f9 famose sono la coppia _ereg e il \}\{package PCRE\}\{ (acronimo di "\}\{Perl Compatible Regular Expressions\}\{" ovvero Regex compatibili con Perl). Le prime tuttavia non hanno le stesse funzionalit24'e0 avanzate del package PCRE, pertanto analizzeremo queste ultime in particolare (se per42'f2 si vuole avere una visione anche sulle prima, basta visitare \}\{\{\}).\} 000192551024255424103300\{*toc3\}\{*toc3\}\{*toc3\}\{*toc3\}44\par}
{\pard \ql \f0 \sa180 \li0 \fi0 303030303283283283289972224012091036436240120\{\{*toctitle3\}\{*toctitle3\}Indice\} 27 27040 0000-28370770707070-283\{\{\} \} 27140 0000-28314141414014140-283\{\{\} \} 27140 0000-28314141414014140-283\{\{\} \} 27140 0000-28314141414014140-283\{\{\} \} 27140 0000-28314141414014140-283\{\{\} \} 27040 0000-28370770707070-283\{\{\} \} 27040 0000-28370770707070-2830283\{\{\} \}224012091036436\{//<[CDATA[if (window.showTocToggle) \{ var tocShowText = "mostra"; var tocHideText = "nascondi"; showTocToggle(); \} //]]>[\}\{\{\}] \}\{\{*PCRE\}\{*PCRE\}PCRE\} 220120\{Questa libreria 32'e8 un \}\{porting\}\{ in PHP di un'altra molto utilizzata e diffusa, scritta per \}\{\{\}. Essa viene anche chiamata colloquialmente \}\{preg_match\}\{.\} 324012091028428\{[\}\{\{\}] \}\{\{*Ottenere_dei_dati\}\{*Ottenere_dei_dati\}Ottenere dei dati\} 220120\{Vediamo un esempio di come si utilizza una regex in PHP:\} 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Se proviamo ad eseguire questo script, otterremo come risultato:\} 26006620620\{Array\} 26006620620\{(\} 26006620620\{ \}\{=> [[Immagine:Ciao.jpg]]\} 26006620620\{ \}\{=> Ciao.jpg\} 260066206200283\{)\} 220120\{La regex utilizzata serve per trovare tutte le immagini in \}\{\{\}; in particolare restituisce il suo nome reale (ovvero, senza il \}\{\{\} immagine).\} 220120\{In PHP una regex deve essere definita in una stringa di testo che inizia e finisce con "/" per far capire al motore che quella 32'e8 una regex e non testo qualunque. La funzione \}\{18666preg_match\}\{ prende il primo parametro (la regex), lo confronta col secondo (il testo) e assegna il risultato alla variabile indicata come terzo parameetro (nel nostro caso \}\{18666$risultato\}\{ , che noi mostriamo con la funzione \}\{18666print_r\}\{).\} 220120\{La variabile di risultato conterr24'e0 il testo associato dall'intera regex e l'evenutale testo dei cosidetti \}\{backreference\}\{ indicati tra le parentesi (nel nostro caso rispettivamente $risultato[0] e $risultato[1]). La prima parentesi non viene restituita come \}\{backreference\}\{ solo perch33'e9 32'e8 stato utilizzato il modificatore \}\{19666?:\}\{ che indica al motore delle regex di non contare quelle determinate parentesi per le \}\{backreference\}\{ (ci42'f2 serve per rendere la regex pi49'f9 veloce).\} 220120\{Perch33'e9, per42'f2, non prende anche image:hello? Perch33'e9 preg_match restituisce solo la prima occorrenza, per ottenerle tutte bisogna usare preg_match_all:\} 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Risultato:\} 26006620620\{Array\} 26006620620\{(\} 26006620620\{ \}\{=> Array\} 26006620620\{ \}\{(\} 26006620620\{ \}\{=> [[Immagine:Ciao.jpg]]\} 26006620620\{ \}\{=> [[image:hello.jpg]]\} 26006620620\{ \}\{)\} 26006620620\par}
{\pard \ql \f0 \sa180 \li0 \fi0 26006620620\{ \}\{=> Array\} 26006620620\{ \}\{(\} 26006620620\{ \}\{=> Ciao.jpg\} 26006620620\{ \}\{=> hello.jpg\} 26006620620\{ \}\{)\} 26006620620\par}
{\pard \ql \f0 \sa180 \li0 \fi0 260066206200283\{)\} 220120\{In questo modo abbiamo quindi sia "il pezzo di codice" che volevamo passare al \}\{parser\}\{ che il risultato nello specifico.\} 220120\{Abbiamo quindi due array annidati dentro un altro, pertanto per accedere al primo baster24'e0 usare $risultato[0], mentre $risultato[1] per il secondo. Per accedere invece, per esempio, a Ciao.jpg, basterebbe utilizzare $risultato[1][0].\} 324012091028428\{[\}\{\{\}] \}\{\{*Sostituire_dei_dati_con_degli_altri_.28replace.29\}\{*Sostituire_dei_dati_con_degli_altri_.28replace.29\}Sostituire dei dati con degli altri (replace)\} 220120\{Poniamo per esempio di dover cambiare tutti le stringhe di wikicodice [[Image:x]] con [[Immagine:x]] per ovviare a degli ipotetici problemi tecnici del motore \}\{\{\}.\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Il risultato di questo script 32'e8:\} 260066206200283\{], [[Immagine:CIAO.jpeg]]\} 220120\{In questo modo abbiamo definito una prima regex per ottenere le sottostringhe e poi una seconda per indicare con cosa sostituire il testo associato dalla prima. Dato che la seconda 32'e8 una stringa e la \}\{backslash\}\{ (\\) 32'e8 un carattere speciale in PHP, bisogna farne l'\}\{escape\}\{(aggiungendo quindi un'altra backslash) per ottenere un \}\{backreference\}\{ (riferimento all'indietro, ovvero andare a prendere la parentesi identificata dal numero).\} 220120\{Attenzione\}\{:\} 220120\{1.\}041 0000-28370770707070-28300\{18666preg_replace\}\{ restituisce un valore tramite assegnamento (ovvero, dovete usare la sintassi \}\{18666$variabile = preg_replace();\}\{) al contrario di quanto faceva \}\{18666preg_match[_all]\}\{) \} 220120\{2.\}041 0000-28370770707070-283\{Questa regex non 32'e8 la migliore in quanto il tutto potrebbe essere fatto semplicemente sostituendo "/\\[\\[[Ii]mage:/" con "[[Immagine". La parte superflua 32'e8 stata tuttavia inserita ad esclusiva finalit24'e0 didattica (per spiegare come usare le \}\{backreference\}\{ correttamente). \} 324012091028428\{[\}\{\{\}] \}\{\{*Modificatori\}\{*Modificatori\}Modificatori\} 30303030201534520153452015345345145820153452015345201534520153459972282830303030345201534520153453451458345201534520153452015345997227273030303034520153452015345345145834520153452015345201534599722727303030303452015345201534534514583452015345201534520153459972272730303030345201534520153453451458345201534520153452015345997227273030303034520153452015345345145834520153452015345201534599722727303030303452015345201534534514583452015345201534520153459972272730303030345201534520153453451458345201534520153452015345997227273030303034520153452015345345145834520153452015345201534599722727220120\{I modificatori servono a modificare il comportamento del motore di regex utilizzato. Per esempio, la regex usata sopra per "italianizzare" tutte le immagini, diventerebbe:\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Con risultato: [[Immagine:ciao.png]], [[Immagine:CIAO.jpeg]]\} 220120\{Come si pu42'f2 vedere, il risultato 32'e8 identico sebbene l'espressione regolare non sia la stessa (notare in particolare la \}\{i\}\{ dopo l'ultimo slash - / - della regex).\} 324012091028428\{[\}\{\{\}] \}\{\{*Particolarit.C3.A0\}\{*Particolarit.C3.A0\}Particolarit24'e0\} 220120\{Le backreference (quelle di solito identificate come \\1 o \\\\1 in php) possono anche essere richiamate con $1 (sostituendo l'1 al numero desiderato) come si fa in Perl.\} 224012091036436\{[\}\{\{\}] \} 000192551024255424103304040\par}
{\pard \ql \f0 \sa180 \li0 \fi0 000192551024255424103304040\par}
{\pard \ql \f0 \sa180 \li0 \fi0 0001925510242554241033 000192551024255424103304040\par}
{\pard \ql \f0 \sa180 \li0 \fi0 220120 224012091036436\{[\}\{\{\}] \}\{\{*Connessione_ad_un_server_mysql_e_selezione_del_database\}\{*Connessione_ad_un_server_mysql_e_selezione_del_database\}Connessione ad un server mysql e selezione del database\} 220120\{Per la connessione al server, PHP ha una funzione specifica: mysql_connect(), la cui sintassi 32'e8: \}\{mysql_connect(host_db, username, password);\} 220120\{Esempio:\} 26006620620 26006620620 26006620620 260066206200283 220120\{Con questo codice, PHP tenta la connessione a localhost con l'username e la password forniti, in caso di fallimento, stampa il messaggio di errore.\} 220120\{Con questa funzione il PHP si connetter24'e0 a MySQL e sar24'e0 pronto per lavorare. Per selezionare il database su cui dobbiamo eseguire le nostre query abbiamo la funzione mysql_select_db: \}\{mysql_select_db(nomedb, [puntatore]);\} 220120\{Esempio:\} 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Adesso PHP tenta la connessione al database test dal server localhost al quale ci siamo connessi prima. Nel caso il database non esistesse o in caso di errore, verrebbe inviato il messaggio "Database inesistente". Come potete vedere, in questo caso la funzione mysql_connect() 32'e8 stata assegnata alla variabile $db, che in questo caso diventa un puntatore di risorse. In questo modo, possiamo aprire pi49'f9 connessioni contemporanee assegnate a diversi puntatori.\} 224012091036436\{[\}\{\{\}] \}\{\{*Esecuzione_di_query\}\{*Esecuzione_di_query\}Esecuzione di query\} 220120\{Dopo aver aperto il database, possiamo eseguire delle operazioni con i dati presenti al suo interno (vedi \}\{\{\}), come la creazione o eliminazione di tabelle o inserimento e richiesta di dati. Per inviare comandi MySQL al server si utilizza la funzione mysql_query():\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{Questo codice, recupera tutti i record della tabella registrati del database test sul server localhost. In caso di errore verr24'e0 visualizzato un messaggio contenente la descrizione dell'errore. 00'c8 utile inserire la funzione mysql_query sempre in un puntatore (diverso da quello del database), per l'utilizzo dei dati\} 224012091036436\{[\}\{\{\}] \}\{\{*Funzioni_PHP_-{\i MySQL\}\{*Funzioni_PHP}-_MySQL\}Funzioni PHP - MySQL\} 220120\{Nel caso in cui avessimo bisogno di prendere dei dati da un database dovremo utilizzare la funzione mysql_fetch_array() che crea un array con indice, i nomi delle colonne del database e come dati \}\{il primo dell'elenco dei risultati della query\}\{. Supponiamo di avere una tabella cos36'ec strutturata:\} 303030302015345201534520153453452569201534520153452015345345496520153452015345201534534581392015345201534520153452015345997228282828303030303452015345201534534525693452015345201534534549653452015345201534534581393452015345201534520153459972272727273030303034520153452015345345256934520153452015345345496534520153452015345345813934520153452015345201534599722727272730303030345201534520153453452569345201534520153453454965345201534520153453458139345201534520153452015345997227272727220120\{Con questo codice:\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{verr24'e0 creato un array $risultato contenente solo una riga della tabella strutturato cos36'ec:\} 220120\{777 226'95\}042 0000-28370770707070-28300\{$risultato['Nome'] = "Tizio" \} 220120\{777 226'95\}042 0000-28370770707070-28300\{$risultato['Cognome'] = "Rossi". \} 220120\{777 226'95\}042 0000-28370770707070-28300\{$risultato['Data_nascita'] = "20/11/1957". \} 220120\{777 226'95\}042 0000-28370770707070-283\{$risultato['Citt24'e0'] = "Milano". \} 220120\{Per vedere tutte le righe della tabella, bisogna fare cos36'ec:\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{e allora la variabile $risultato sar24'e0:\} 220120\{777 226'95\}043 0000-28370770707070-28300\{$risultato[0] \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[0]['Nome'] = "Tizio" \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[0]['Cognome'] = "Rossi". \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[0]['Data_nascita'] = "20/11/1957". \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[0]['Citt24'e0'] = "Milano". \} 220120\{777 226'95\}043 0000-28370770707070-28300\{$risultato[1] \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[1]['Nome'] = "Caio" \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[1]['Cognome'] = "Bianchi". \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[1]['Data_nascita'] = "12/03/1985". \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[1]['Citt24'e0'] = "Roma". \} 220120\{777 226'95\}043 0000-28370770707070-28300\{$risultato[2] \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[2]['Nome'] = "Sempronio" \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[2]['Cognome'] = "Verdi". \} 220120\{777 226'95\}143 0000-28314141414014140-28300\{$risultato[2]['Data_nascita'] = "08/06/1967". \} 220120\{777 226'95\}143 0000-28314141414014140-283\{$risultato[2]['Citt24'e0'] = "Napoli". \} 0001925510242554241033 220120 220120\{Le funzioni di connect accettano quattro parametri:\} 220120\{777 226'95\}044 0000-28370770707070-28300\{18666hostname[:port]\}\{ (string): il nome dell'host (o il relativo IP) eventualmente seguito dal numero di porta su cui risponde il server MySQL \} 220120\{777 226'95\}044 0000-28370770707070-28300\{18666username\}\{ (string): l'utente MySQL \} 220120\{777 226'95\}044 0000-28370770707070-28300\{18666password\}\{ (string): la password definita per l'utente specificato \} 220120\{777 226'95\}044 0000-28370770707070-283\{18666new_connect_flag\}\{ (boolean): se questo parametro 32'e8 impostato 'true' si intende che, nella situazione in si esegua una connect con parametri gi24'e0 utilizzati precedentemente nello script, verr24'e0 creato un nuovo identificatore di risorsa, invece di ritornare quello creato precedentemente. \} 220120\{Importante:\} 220120\{1.\}045 0000-28370770707070-28300\{utilizzate con diligenza la mysql_pconnect in quanto, se dimenticare di chiudere la connessione, questa rimarr24'e0 aperta anche dopo che lo script ha terminato la sua esecuzione \} 220120\{2.\}045 0000-28370770707070-283\{non utilizzare il parametro new_connection_flag se non 32'e8 estremamente necessario in quanto i server MySQL sono di solito configurati per gestire circa 30-100 connessioni \} 220120\{Entrambe le funzioni ritornano un intero che definisce la risorsa (\}\{resource identifier\}\{). Questo valore dovrebbe essere salvato in una variabile e passato a tutte le funzioni che lo richiedano come parametro. Di fatto il parametro 32'e8 opzionale in quanto il modulo per MySQL di PHP tiene traccia dei parametri di connessione utilizzati (se si aprono pi49'f9 connessioni memorizza i pi49'f9 recenti) ed esegue le operazioni necessarie per tenere aperta una connessione ad ogni invio di query.\} 220120\{Una volta aperta la connessione 32'e8 possibile, ma non necessario, scegliere il database da utilizzare chiamando la funzione \}\{18666mysql_select_db\}\{, pseudonimo della query "USE DATABASE my_little_db".\} 220120\{Per i programmatori pi49'f9 esperti e negli ambiti di applicazioni a carattere enterprise, un consiglio 32'e8 quello di utilizzare uno stereotipo poco in voga ma veramente utile. 00'c8 necessario creare un file di init seguendo l'esempio\} 26006620620\{\} 26006620620\{host = mysqlsrv.dominio.it:3306\} 26006620620\{usr = root\} 26006620620\{pwd = pwd_for_root\} 260066206200283\{db = application_db\} 220120\{Inserite nel vostro script (preferibilmente nel file delle configurazioni, come 32'e8 consono per applicazioni di grosse dimensioni) il seguente segmento di codice\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120 220120 260066206200283\{mysql_query(\}\{query\}\{, \}\{connessione\}\{)\} 220120\{dove \}\{query\}\{ 32'e8 una stringa contenente il testo della query MySQL da eseguire e \}\{connessione\}\{ 32'e8 un puntatore di risorsa aperta con la funzione \}\{18666mysql_connect\}\{ e connessa ad un database. A seconda del tipo di query inviata al database, la funzione mysql_query restituisce valori differenti:\} 220120\{777 226'95\}046 0000-28370770707070-28300\{se la query 32'e8 di inserimento restituisce un puntatore al fieldset ottenuto dall'esecuzione della query (ad esempio una query come \}\{18666"SELECT * FROM registrati"\}\{ dell'esempio precedente) \} 220120\{777 226'95\}046 0000-28370770707070-283\{negli altri casi la query restituisce un valore boolean che indica l'esito positivo o meno della query \} 220120\{Nell'invio di una query 32'e8 necessario, se non viene gi24'e0 fatto dal server MySql, convertire i caratteri come gli apostrofi con la loro commutazione \}\{\\'\}\{, in quanto potrebbero dare problemi per quanto riguarda l'invio di stringhe alfanumeriche, tramite la funzione \}\{18666addslashes\}\{, la cui sintassi 32'e8\} 260066206200283\{addslashes(\}\{stringa_da_commutare\}\{)\} 220120\{e restituisce la stringa stessa con i caratteri speciali commutati. La sua funzione inversa 32'e8\} 260066206200283\{stripslashes(\}\{stringa_gi24'e0_commutata\}\{)\} 220120\{ 00'c8 consigliabile inoltre prevedere controlli per evitare intrusioni indesiderate da parte di hacker, evitando ad esempio che eventuali campi di input (per esempio nome utente o password) contengano spazi, i quali permetterebbero l'esecuzione di JOIN o query multiple. \} 22012000\{04040 RISULTATO QUERY \} 220120000022022\par}
{\pard \ql \f0 \sa180 \li0 \fi0 22012000\{0022022 Una volta ottenuto il puntatore al risultato della query tramite la funzione mysql_query 32'e8 possibile procedere all'uso del result-set. Per fare ci42'f2 PHP mette a disposizione numerose funzioni:\} 220120\{777 226'95\}047 0000-28370770707070-28300\{la pi49'f9 usata 32'e8 \}\{18666mysql_fetch_array(\}\{18666risultato\}\{18666, \}\{18666tipo_array\}\{18666)\}\{ che restituisce l'i-esimo record del fielset e incrementa di uno l'indice, dove \}\{risultato\}\{ 32'e8 un puntatore di fieldset MySQL. In base al parametro \}\{tipo_array\}\{ la funzione restituisce valori differenti: \} 220120\{777 226'95\}147 0000-28314141414014140-28300\{18666MYSQL_ASSOC\}\{: il risultato della funzione 32'e8 un array associativo che ha per chiavi i nomi dei campi e per valori i dati contenuti nel record \} 220120\{777 226'95\}147 0000-28314141414014140-28300\{18666MYSQL_NUM\}\{: il risultato della funzione 32'e8 un array associativo che ha per chiavi dei numeri interi e per valori i dati contenuti nel record \} 220120\{777 226'95\}147 0000-28314141414014140-283\{18666MYSQL_BOTH\}\{: il risultato della funzione 32'e8 un array associativo che ha per chiavi sia i nomi sia gli indici numerici dei campi e per valori i dati contenuti nel record. \} 295670567000283\{Per iterare su tutti gli elementi 32'e8 sufficiente usare un ciclo \}\{18666while\}\{: \} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 295670567000283\{Infatti quando finiscono i record del fieldset la funzione \}\{18666mysql_fetch_array\}\{ restituisce un array vuoto, che viene assegnato alla variabile $r. Per le regole di conversione, un array vuoto viene convertito in boolean in FALSE. Negli altri casi, l'array sar24'e0 non vuoto e la variabile $r verr\\u224\\'e0 convertita in TRUE. \} \\par \\pard\\plain \\s22\\sb0\\sa120\{\\listtext\\pard\\plain \\dbch\\af7\\dbch\\af7\\loch\\f7 \\u8226\\'95\\tab\}\\ilvl0\\ls48 \\li0\\ri0\\lin0\\rin0\\fi-283\\tx707\\li707\\ri0\\lin707\\rin0\\fi-283\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch mysql_num_rows(\}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\i\\rtlch \\ltrch\\loch risultato\}\{\\cs18\\dbch\\af6\\dbch\\af6\\loch\\f6\\rtlch \\ltrch\\loch )\}\{\\rtlch \\ltrch\\loch  restituisce il numero di righe restituite dalla query identificata da \}\{\\i\\rtlch \\ltrch\\loch risultato\}\{\\rtlch \\ltrch\\loch . \\u200\\'c8 utilizzato frequentemente per verificare durante un login l'esistenza di un determinato utente con una precisa password. Ad esempio: \} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch  \}\{\\rtlch \\ltrch\\loch\\loch\\f8 <?php\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch  \}\{\\rtlch \\ltrch\\loch\\loch\\f8 //presuppone il collegamento ad un database contentente nomi utente e password\} \\par \\pard\\plain \\s26\\sb0\\sa0\\dbch\\af6\\dbch\\af6\\afs20\\loch\\f6\\fs20\\ql\\ltrpar\{\\rtlch \\ltrch  \}\{\\rtlch \\ltrch\\loch\\loch\\f8 if (isset[$_POST['uid']) \{ //verifica che il form abbia inviato dei valori\} 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 26006620620 260066206200283 220120\{777 226'95\}049 0000-28370770707070-28300\{18666mysql_insert_id(\}\{18666database\}\{18666)\}\{ restituisce l'ultimo valore auto-incrementato dal database (es. campi ID) \} 220120\{777 226'95\}049 0000-28370770707070-283\{18666mysql_data_seek(\}\{18666risultato\}\{18666, \}\{18666posizione\}\{18666)\}\{ sposta il puntatore del fieldset \}\{risultato\}\{ al record di posizione \}\{posizione\}\{ (partendo da 0) \} 2201200004040\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \}\par}
}
